html id=advanced_dating_app
<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JodohKita - Aplikasi Kencan</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.8.1/flowbite.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #A23131;
            /* Red color commonly found in Indonesian culture */
            --primary-hover: #872828;
            --secondary-color: #3498db;
            --secondary-hover: #2980b9;
            --light-bg: #FFFFFF;
            --dark-bg: #181818;
            --light-text: #333333;
            --dark-text: #F1F1F1;
            --light-card: #F5F5F5;
            --dark-card: #2A2A2A;
            --light-border: #E5E5E5;
            --dark-border: #3A3A3A;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
        }

        * {
            transition: background-color 0.3s, color 0.3s;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            min-height: 100vh;
        }

        .app-container {
            max-width: 768px;
            margin: 0 auto;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }

        @media (prefers-color-scheme: dark) {
            body {
                background-color: var(--dark-bg);
                color: var(--dark-text);
            }

            .app-container {
                background-color: var(--dark-bg);
            }

            .card {
                background-color: var(--dark-card);
                border-color: var(--dark-border);
            }

            .message-bubble {
                background-color: var(--primary-color);
                color: white;
            }

            .message-bubble.received {
                background-color: var(--dark-card);
            }

            .tabs-nav {
                background-color: var(--dark-bg);
                border-color: var(--dark-border);
            }

            .nav-item {
                color: var(--dark-text);
            }

            input,
            textarea,
            select {
                background-color: var(--dark-card);
                color: var(--dark-text);
                border-color: var(--dark-border);
            }

            .profile-detail {
                background-color: rgba(30, 30, 30, 0.8);
            }

            .filter-overlay,
            .event-overlay,
            .swipe-stats-overlay,
            .points-overlay {
                background-color: var(--dark-bg);
                color: var(--dark-text);
            }

            .filter-section {
                border-color: var(--dark-border);
            }

            .filter-chip {
                background-color: var(--dark-card);
                border-color: var(--dark-border);
            }

            .filter-chip.active {
                background-color: var(--primary-color);
                color: white;
                border-color: var(--primary-color);
            }

            .attractiveness-badge {
                background-color: var(--dark-card);
                color: var(--dark-text);
            }

            .quick-reply {
                background-color: var(--dark-card);
                border-color: var(--dark-border);
            }

            .quick-reply:hover {
                background-color: rgba(70, 70, 70, 0.5);
            }

            .attractiveness-indicator .bar {
                background-color: rgba(255, 255, 255, 0.2);
            }

            .suggestion-card {
                background-color: var(--dark-card);
                border-color: var(--dark-border);
            }

            .event-card {
                background-color: var(--dark-card);
                border-color: var(--dark-border);
            }

            .event-badge {
                background-color: rgba(70, 70, 70, 0.7);
            }

            .rating-tag {
                background-color: var(--dark-card);
            }

            .tab-button.active {
                border-color: var(--primary-color);
                background-color: rgba(162, 49, 49, 0.1);
            }

            .feature-badge.premium {
                background-color: #FFD700;
                color: #000;
            }

            .feature-badge.free {
                background-color: #555;
                color: #fff;
            }

            .verify-badge {
                background-color: var(--success-color);
            }

            .points-card {
                background-color: var(--dark-card);
                border-color: var(--dark-border);
            }

            .superswipe-modal {
                background-color: var(--dark-bg);
                color: var(--dark-text);
                border-color: var(--dark-border);
            }
        }

        @media (prefers-color-scheme: light) {
            body {
                background-color: var(--light-bg);
                color: var(--light-text);
            }

            .app-container {
                background-color: var(--light-bg);
            }

            .card {
                background-color: var(--light-card);
                border-color: var(--light-border);
            }

            .message-bubble {
                background-color: var(--primary-color);
                color: white;
            }

            .message-bubble.received {
                background-color: var(--light-card);
                color: var(--light-text);
            }

            .tabs-nav {
                background-color: var(--light-bg);
                border-color: var(--light-border);
            }

            .nav-item {
                color: var(--light-text);
            }

            input,
            textarea,
            select {
                background-color: var(--light-bg);
                color: var(--light-text);
                border-color: var(--light-border);
            }

            .profile-detail {
                background-color: rgba(245, 245, 245, 0.9);
            }

            .filter-overlay,
            .event-overlay,
            .swipe-stats-overlay,
            .points-overlay {
                background-color: var(--light-bg);
                color: var(--light-text);
            }

            .filter-section {
                border-color: var(--light-border);
            }

            .filter-chip {
                background-color: var(--light-card);
                border-color: var(--light-border);
            }

            .filter-chip.active {
                background-color: var(--primary-color);
                color: white;
                border-color: var(--primary-color);
            }

            .attractiveness-badge {
                background-color: var(--light-bg);
                color: var(--light-text);
            }

            .quick-reply {
                background-color: var(--light-card);
                border-color: var(--light-border);
            }

            .quick-reply:hover {
                background-color: rgba(230, 230, 230, 0.8);
            }

            .attractiveness-indicator .bar {
                background-color: rgba(0, 0, 0, 0.1);
            }

            .suggestion-card {
                background-color: var(--light-card);
                border-color: var(--light-border);
            }

            .event-card {
                background-color: var(--light-card);
                border-color: var(--light-border);
            }

            .event-badge {
                background-color: rgba(240, 240, 240, 0.9);
            }

            .rating-tag {
                background-color: var(--light-bg);
            }

            .tab-button.active {
                border-color: var(--primary-color);
                background-color: rgba(162, 49, 49, 0.1);
            }

            .feature-badge.premium {
                background-color: #FFD700;
                color: #000;
            }

            .feature-badge.free {
                background-color: #ddd;
                color: #555;
            }

            .verify-badge {
                background-color: var(--success-color);
            }

            .points-card {
                background-color: var(--light-card);
                border-color: var(--light-border);
            }

            .superswipe-modal {
                background-color: var(--light-bg);
                color: var(--light-text);
                border-color: var(--light-border);
            }
        }

        .primary-btn {
            background-color: var(--primary-color);
            color: white;
            transition: all 0.3s;
        }

        .primary-btn:hover {
            background-color: var(--primary-hover);
        }

        .secondary-btn {
            background-color: var(--secondary-color);
            color: white;
            transition: all 0.3s;
        }

        .secondary-btn:hover {
            background-color: var(--secondary-hover);
        }

        .card {
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .profile-pic {
            width: 100%;
            aspect-ratio: 3/4;
            object-fit: cover;
        }

        .profile-detail {
            padding: 20px;
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            border-radius: 0 0 12px 12px;
        }

        .message-bubble {
            border-radius: 18px;
            padding: 10px 15px;
            max-width: 75%;
            margin-bottom: 10px;
            word-break: break-word;
        }

        .message-bubble.sent {
            border-bottom-right-radius: 4px;
            margin-left: auto;
        }

        .message-bubble.received {
            border-bottom-left-radius: 4px;
            margin-right: auto;
        }

        .tabs-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            border-top-width: 1px;
            z-index: 10;
        }

        .nav-item {
            text-align: center;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
        }

        .nav-item.active {
            background-color: var(--primary-color);
            color: white;
        }

        .nav-item i {
            display: block;
            font-size: 20px;
            margin-bottom: 5px;
        }

        .tab-content {
            display: none;
            padding-bottom: 80px;
        }

        .tab-content.active {
            display: block;
        }

        .match-actions {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .action-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .action-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .match-notification {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .match-modal {
            background-color: white;
            border-radius: 16px;
            width: 90%;
            max-width: 500px;
            text-align: center;
            padding: 30px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            animation: slideUp 0.4s;
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }

            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .match-profiles {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .match-profile {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary-color);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .user-pic {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        .typing-indicator {
            padding: 8px 15px;
            border-radius: 15px;
            margin-bottom: 10px;
            font-style: italic;
            opacity: 0.7;
            display: none;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 3px;
        }

        .profile-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 20;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-y: auto;
        }

        .profile-container {
            background-color: white;
            border-radius: 16px;
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            color: var(--light-text);
        }

        .close-profile {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            color: white;
            cursor: pointer;
            z-index: 21;
            background-color: rgba(0, 0, 0, 0.5);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .profile-images {
            position: relative;
        }

        .profile-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 100%;
            display: flex;
            justify-content: space-between;
            padding: 0 10px;
        }

        .profile-nav-btn {
            background-color: rgba(255, 255, 255, 0.7);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .profile-details {
            padding: 20px;
        }

        .animation-pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        .preference-tag {
            display: inline-block;
            padding: 5px 10px;
            margin: 5px;
            border-radius: 15px;
            font-size: 14px;
            background-color: #f0f0f0;
            color: #333;
        }

        .message-time {
            font-size: 12px;
            opacity: 0.7;
            margin-top: 4px;
        }

        .chat-input-container {
            position: fixed;
            bottom: 70px;
            left: 0;
            right: 0;
            padding: 10px;
            background-color: inherit;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
            z-index: 5;
        }

        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        .loader {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: var(--primary-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .filter-overlay,
        .event-overlay,
        .swipe-stats-overlay,
        .points-overlay,
        .feedback-overlay,
        .rating-overlay,
        .suggestion-overlay,
        .warning-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 50;
            display: none;
            flex-direction: column;
            padding: 20px;
            overflow-y: auto;
        }

        .filter-header,
        .overlay-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0 20px 0;
            position: sticky;
            top: 0;
            background-color: inherit;
            z-index: 1;
        }

        .filter-container,
        .overlay-container {
            width: 100%;
            max-width: 768px;
            margin: 0 auto;
            height: 100%;
            overflow-y: auto;
            padding-bottom: 80px;
        }

        .filter-section {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom-width: 1px;
        }

        .filter-section-title {
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .filter-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .filter-chip {
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            border: 1px solid;
            transition: all 0.2s;
        }

        .filter-chip:hover {
            opacity: 0.8;
        }

        .filter-chip.active {
            background-color: var(--primary-color);
            color: white;
        }

        .filter-slider-container {
            margin: 20px 0;
            padding: 0 10px;
        }

        .filter-range {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            font-size: 14px;
        }

        .filter-applied {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            font-size: 12px;
            margin-left: 5px;
        }

        .filter-reset {
            padding: 5px 10px;
            font-size: 14px;
            cursor: pointer;
            text-decoration: underline;
            opacity: 0.7;
        }

        .filter-actions,
        .overlay-actions {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            display: flex;
            gap: 10px;
            background-color: inherit;
            border-top: 1px solid var(--light-border);
            z-index: 10;
        }

        .range-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #d7dcdf;
            outline: none;
            margin: 10px 0;
        }

        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
            border: none;
        }

        .range-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
            border: none;
        }

        .neighborhood-select,
        .filter-select {
            width: 100%;
            padding: 8px 12px;
            border-radius: 8px;
            border: 1px solid var(--light-border);
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23A23131' width='18px' height='18px'%3E%3Cpath d='M0 0h24v24H0V0z' fill='none'/%3E%3Cpath d='M7 10l5 5 5-5H7z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 10px center;
            margin-top: 10px;
        }

        @media (prefers-color-scheme: dark) {
            .loader {
                border-color: rgba(255, 255, 255, 0.1);
                border-left-color: var(--primary-color);
            }

            .preference-tag {
                background-color: #333;
                color: #f0f0f0;
            }

            .profile-container {
                background-color: var(--dark-bg);
                color: var(--dark-text);
            }

            .match-modal {
                background-color: var(--dark-bg);
                color: var(--dark-text);
            }

            .profile-nav-btn {
                background-color: rgba(30, 30, 30, 0.7);
                color: white;
            }

            .filter-actions,
            .overlay-actions {
                border-top-color: var(--dark-border);
            }

            .range-slider {
                background: #4a4a4a;
            }
        }

        .active-filters-bar {
            padding: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-bottom: 15px;
        }

        .active-filter {
            padding: 5px 10px;
            border-radius: 15px;
            background-color: var(--primary-color);
            color: white;
            font-size: 12px;
            display: flex;
            align-items: center;
        }

        .active-filter i {
            margin-left: 5px;
            cursor: pointer;
        }

        .no-profiles {
            text-align: center;
            padding: 40px 20px;
            opacity: 0.7;
        }

        .attractiveness-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            z-index: 5;
        }

        .star-icon {
            color: gold;
            margin-right: 5px;
        }

        .attractiveness-indicator {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }

        .attractiveness-indicator .bar {
            height: 8px;
            flex: 1;
            border-radius: 4px;
            margin-right: 5px;
            overflow: hidden;
        }

        .attractiveness-indicator .bar-fill {
            height: 100%;
            transition: width 0.5s;
        }

        .level-1 {
            background-color: #ff5252;
        }

        .level-2 {
            background-color: #ff7752;
        }

        .level-3 {
            background-color: #ff9a52;
        }

        .level-4 {
            background-color: #ffbd52;
        }

        .level-5 {
            background-color: #ffe252;
        }

        .level-6 {
            background-color: #e9ff52;
        }

        .level-7 {
            background-color: #c6ff52;
        }

        .level-8 {
            background-color: #9eff52;
        }

        .level-9 {
            background-color: #70ff52;
        }

        .level-10 {
            background-color: #52ff64;
        }

        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
            margin-bottom: 10px;
        }

        .quick-reply {
            padding: 8px 15px;
            border-radius: 18px;
            font-size: 14px;
            border: 1px solid;
            cursor: pointer;
            transition: all 0.2s;
        }

        .info-reveal {
            margin: 15px 0;
            padding: 10px;
            border-radius: 10px;
            background-color: rgba(162, 49, 49, 0.1);
            border-left: 4px solid var(--primary-color);
        }

        .info-reveal-title {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .info-reveal-content {
            font-size: 14px;
        }

        .my-attractiveness-section {
            text-align: center;
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 10px;
            background-color: rgba(162, 49, 49, 0.05);
        }

        .my-attractiveness-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .my-score {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
        }

        .upgrade-prompt {
            font-size: 14px;
            opacity: 0.7;
            margin-top: 10px;
        }

        .suggestion-card {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .suggestion-title {
            font-weight: bold;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .suggestion-icon {
            color: var(--primary-color);
        }

        .suggestion-content {
            margin-bottom: 10px;
        }

        .event-card {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            position: relative;
            overflow: hidden;
        }

        .event-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }

        .event-title {
            font-weight: bold;
            margin-bottom: 8px;
            padding-right: 70px;
        }

        .event-date {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 14px;
        }

        .event-participants {
            display: flex;
            gap: 5px;
            margin-top: 10px;
        }

        .event-participant {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            object-fit: cover;
        }

        .more-participants {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .rating-stars {
            display: flex;
            gap: 5px;
            margin: 10px 0;
        }

        .rating-star {
            font-size: 24px;
            cursor: pointer;
            color: #ccc;
        }

        .rating-star.active {
            color: gold;
        }

        .rating-tag {
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 14px;
            margin-right: 5px;
            margin-bottom: 5px;
            display: inline-block;
            cursor: pointer;
        }

        .rating-tag.active {
            background-color: var(--primary-color);
            color: white;
        }

        .feedback-item {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            position: relative;
        }

        .feedback-rating {
            position: absolute;
            top: 15px;
            right: 15px;
            color: gold;
        }

        .feedback-text {
            margin-top: 5px;
            font-style: italic;
        }

        .feedback-date {
            margin-top: 5px;
            font-size: 12px;
            opacity: 0.7;
        }

        .tab-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 5px;
        }

        .tab-button {
            padding: 8px 15px;
            border-radius: 20px;
            white-space: nowrap;
            cursor: pointer;
            border: 1px solid transparent;
            transition: all 0.2s;
        }

        .tab-button.active {
            font-weight: bold;
        }

        .swipe-stats {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .swipe-count {
            text-align: center;
            flex: 1;
        }

        .swipe-number {
            font-size: 24px;
            font-weight: bold;
        }

        .swipe-label {
            font-size: 14px;
            opacity: 0.7;
        }

        .membership-card {
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            background-color: var(--primary-color);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .membership-pattern {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.1;
            background-image: radial-gradient(circle at 20% 35%, rgba(255, 255, 255, 0.3) 0%, transparent 10%, transparent 100%),
                radial-gradient(circle at 75% 44%, rgba(255, 255, 255, 0.3) 0%, transparent 10%, transparent 100%),
                radial-gradient(circle at 46% 87%, rgba(255, 255, 255, 0.3) 0%, transparent 10%, transparent 100%);
        }

        .membership-type {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
            position: relative;
        }

        .membership-details {
            font-size: 14px;
            opacity: 0.8;
            margin-bottom: 15px;
            position: relative;
        }

        .membership-features {
            position: relative;
        }

        .membership-feature {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 5px;
        }

        .feature-badge {
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 10px;
            font-weight: bold;
            margin-left: 5px;
        }

        .verify-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            font-size: 12px;
        }

        .verification-indicators {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin: 10px 0;
        }

        .verification-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            background-color: rgba(46, 204, 113, 0.1);
            color: var(--success-color);
        }

        .warning-modal {
            padding: 20px;
            text-align: center;
            max-width: 400px;
            margin: auto;
            background-color: white;
            border-radius: 15px;
            position: relative;
        }

        .warning-icon {
            font-size: 48px;
            color: var(--warning-color);
            margin-bottom: 15px;
        }

        .meetup-suggestion {
            margin-top: 15px;
            padding: 15px;
            border-radius: 10px;
            background-color: rgba(52, 152, 219, 0.1);
            border-left: 4px solid var(--secondary-color);
        }

        .meetup-title {
            font-weight: bold;
            color: var(--secondary-color);
            margin-bottom: 5px;
        }

        .meetup-place {
            margin-top: 10px;
            font-weight: bold;
        }

        .meetup-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .status-badge {
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 12px;
            font-weight: bold;
        }

        .status-badge.tourist {
            background-color: rgba(241, 196, 15, 0.2);
            color: #f39c12;
        }

        .status-badge.citizen {
            background-color: rgba(46, 204, 113, 0.2);
            color: #27ae60;
        }

        .status-badge.expat {
            background-color: rgba(52, 152, 219, 0.2);
            color: #2980b9;
        }

        .status-badge.travel {
            background-color: rgba(155, 89, 182, 0.2);
            color: #8e44ad;
        }

        .flag-icon {
            width: 18px;
            height: 12px;
            margin-right: 5px;
            object-fit: cover;
            border-radius: 2px;
        }

        .points-balance {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 10px;
            background-color: rgba(162, 49, 49, 0.05);
        }

        .points-icon {
            color: var(--primary-color);
        }

        .points-card {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border: 1px solid var(--light-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .points-amount {
            font-weight: bold;
        }

        .points-details {
            font-size: 14px;
            opacity: 0.7;
        }

        .points-price {
            font-weight: bold;
            color: var(--primary-color);
        }

        .superswipe-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            border-radius: 16px;
            padding: 20px;
            width: 90%;
            max-width: 300px;
            z-index: 60;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--light-border);
            display: none;
        }

        .superswipe-profile {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 15px;
            border: 3px solid var(--primary-color);
        }

        .superswipe-price {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
            font-size: 20px;
            font-weight: bold;
            margin: 15px 0;
        }

        .profile-completeness {
            display: flex;
            align-items: center;
            margin-top: 15px;
        }

        .completeness-bar {
            flex: 1;
            height: 8px;
            background-color: rgba(0, 0, 0, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-right: 10px;
        }

        .completeness-bar-fill {
            height: 100%;
            background-color: var(--success-color);
        }

        .completeness-percentage {
            font-weight: bold;
            font-size: 14px;
        }

        .superswipe-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 55;
            display: none;
        }
    </style>
</head>

<body>
    <div class="app-container min-h-screen">
        <!-- App Header -->
        <header class="p-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-primary-color">
                <span style="color: var(--primary-color)">Jodoh</span>Kita
            </h1>
            <div class="flex gap-3">
                <button id="points-btn" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 relative">
                    <i class="fas fa-coins" style="color: var(--primary-color)"></i>
                    <span id="points-count" class="filter-applied">250</span>
                </button>
                <button id="filter-btn" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 relative">
                    <i class="fas fa-sliders-h" style="color: var(--primary-color)"></i>
                    <span id="filter-count" class="filter-applied" style="display: none;">0</span>
                </button>
                <button id="notifications-btn"
                    class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 relative">
                    <i class="fas fa-bell" style="color: var(--primary-color)"></i>
                    <span
                        class="absolute top-0 right-0 w-4 h-4 bg-red-500 rounded-full text-xs text-white flex items-center justify-center">2</span>
                </button>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="px-4">
            <!-- Discover Tab -->
            <div id="discover-tab" class="tab-content active">
                <div id="active-filters" class="active-filters-bar" style="display: none;"></div>

                <div class="relative mb-6">
                    <div class="card profile-card relative">
                        <div id="current-profile-image-container">
                            <img src="" alt="Profile picture" class="profile-pic" id="current-profile-image">
                            <div class="attractiveness-badge">
                                <i class="fas fa-star star-icon"></i>
                                <span id="attractiveness-score">0</span>
                            </div>
                            <div class="verify-badge" id="verified-badge" style="display: none;">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        <div class="profile-detail">
                            <h2 class="text-xl font-bold" id="current-profile-name"></h2>
                            <div class="flex items-center">
                                <p class="text-sm opacity-80" id="current-profile-age-location"></p>
                                <div id="status-badge" class="status-badge ml-2" style="display: none;"></div>
                            </div>
                            <p class="mt-2" id="current-profile-bio"></p>
                            <div class="flex flex-wrap gap-1 mt-2" id="current-profile-tags"></div>
                            <div class="profile-completeness mt-2">
                                <div class="completeness-bar">
                                    <div class="completeness-bar-fill" id="profile-completeness-fill"></div>
                                </div>
                                <div class="completeness-percentage" id="profile-completeness-percent">0%</div>
                            </div>
                        </div>
                        <div class="match-actions">
                            <div class="action-btn bg-white text-red-500" id="dislike-btn">
                                <i class="fas fa-times"></i>
                            </div>
                            <div class="action-btn bg-white text-blue-500" id="superlike-btn">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="action-btn bg-white text-green-500" id="like-btn">
                                <i class="fas fa-heart"></i>
                            </div>
                        </div>
                    </div>
                    <div class="loading" id="profile-loading">
                        <div class="loader"></div>
                    </div>
                    <div class="no-profiles" id="no-profiles-message" style="display: none;">
                        <p>Tidak ada profil yang cocok dengan filter Anda.</p>
                        <button id="reset-filters-btn" class="primary-btn px-4 py-2 rounded-lg mt-3">Reset
                            Filter</button>
                    </div>
                </div>
            </div>

            <!-- Matches Tab -->
            <div id="matches-tab" class="tab-content">
                <h2 class="text-xl font-semibold mb-4">Matches Anda</h2>
                <div class="grid grid-cols-2 gap-4" id="matches-grid">
                    <!-- Matches will be inserted here -->
                </div>
            </div>

            <!-- Messages Tab -->
            <div id="messages-tab" class="tab-content">
                <h2 class="text-xl font-semibold mb-4">Pesan</h2>
                <div class="space-y-3" id="conversations-list">
                    <!-- Conversations will be inserted here -->
                </div>
            </div>

            <!-- Chat View -->
            <div id="chat-view" class="tab-content">
                <div class="user-info sticky top-0 py-3 bg-inherit z-10">
                    <button id="back-to-messages" class="p-2">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <img src="" alt="Profile picture" class="user-pic" id="chat-profile-pic">
                    <div class="flex-1">
                        <div class="flex items-center">
                            <h3 class="font-semibold" id="chat-profile-name"></h3>
                            <div id="chat-verified-badge" class="verify-badge ml-2" style="display: none;">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        <p class="text-xs opacity-70">Online sekarang</p>
                    </div>
                    <button id="rate-profile-btn" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700">
                        <i class="fas fa-star" style="color: var(--primary-color)"></i>
                    </button>
                </div>

                <div id="messages-container" class="space-y-2 pb-20 pt-3">
                    <!-- Messages will be inserted here -->
                </div>

                <div class="typing-indicator" id="typing-indicator">
                    mengetik...
                </div>

                <div class="chat-input-container">
                    <div class="quick-replies" id="quick-replies">
                        <!-- Quick replies will be added here -->
                    </div>
                    <div class="flex gap-2">
                        <input type="text" id="message-input" placeholder="Ketik pesan..."
                            class="flex-1 p-3 rounded-full border text-base focus:outline-none focus:ring-2 focus:ring-primary-color">
                        <button id="send-message"
                            class="primary-btn px-4 rounded-full flex items-center justify-center">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Events Tab -->
            <div id="events-tab" class="tab-content">
                <h2 class="text-xl font-semibold mb-4">Acara Khusus</h2>

                <div class="tab-buttons">
                    <button class="tab-button active" data-event-tab="upcoming-events">Mendatang</button>
                    <button class="tab-button" data-event-tab="blind-dates">Blind Date</button>
                    <button class="tab-button" data-event-tab="group-dates">Kencan Grup</button>
                    <button class="tab-button" data-event-tab="past-events">Selesai</button>
                </div>

                <div id="upcoming-events" class="event-tab-content">
                    <div class="event-card">
                        <div class="event-badge">Blind Date</div>
                        <h3 class="event-title">Blind Date Akhir Pekan</h3>
                        <p class="event-date">Sabtu, 10 Juni • 19:00 - 21:00</p>
                        <p class="event-description">Kesempatan untuk berkenalan dengan orang baru secara acak selama
                            satu jam. AI kami akan memilihkan pasangan sesuai dengan kecocokan profil Anda.</p>
                        <div class="flex justify-between mt-3">
                            <div class="flex items-center">
                                <i class="fas fa-coins mr-2" style="color: var(--primary-color)"></i>
                                <span class="font-bold">75 Poin</span>
                            </div>
                            <button class="primary-btn px-4 py-2 rounded-lg">Daftar Sekarang</button>
                        </div>
                    </div>

                    <div class="event-card">
                        <div class="event-badge">Grup</div>
                        <h3 class="event-title">Kafe & Obrolan: Pecinta Kopi</h3>
                        <p class="event-date">Minggu, 18 Juni • 15:00 - 17:00</p>
                        <p class="event-description">Bertemu dengan kelompok 6-8 orang yang sama-sama pecinta kopi.
                            Diskusi santai di Kopi Kenangan, Jakarta Selatan.</p>
                        <div class="event-participants">
                            <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                                class="event-participant">
                            <img src="https://images.unsplash.com/photo-1534751516642-a1af1ef26a56?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                                class="event-participant">
                            <img src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                                class="event-participant">
                            <div class="more-participants">+4</div>
                        </div>
                        <div class="flex justify-between mt-3">
                            <div class="flex items-center">
                                <i class="fas fa-coins mr-2" style="color: var(--primary-color)"></i>
                                <span class="font-bold">100 Poin</span>
                            </div>
                            <button class="primary-btn px-4 py-2 rounded-lg">Daftar Sekarang</button>
                        </div>
                    </div>
                </div>

                <div id="blind-dates" class="event-tab-content" style="display: none;">
                    <div class="event-card">
                        <div class="event-badge">Premium</div>
                        <h3 class="event-title">Blind Date Express</h3>
                        <p class="event-date">Setiap hari • 20:00 - 21:00</p>
                        <p class="event-description">Blind date virtual 15 menit dengan 3 orang berbeda. Temukan
                            kecocokan dalam percakapan singkat namun bermakna.</p>
                        <div class="flex justify-between mt-3">
                            <div class="flex items-center">
                                <i class="fas fa-coins mr-2" style="color: var(--primary-color)"></i>
                                <span class="font-bold">50 Poin</span>
                            </div>
                            <button class="primary-btn px-4 py-2 rounded-lg">Daftar Sekarang</button>
                        </div>
                    </div>
                </div>

                <div id="group-dates" class="event-tab-content" style="display: none;">
                    <div class="event-card">
                        <div class="event-badge">Hampir Penuh</div>
                        <h3 class="event-title">Movie Night: Film Indonesia</h3>
                        <p class="event-date">Jumat, 23 Juni • 19:00 - 22:00</p>
                        <p class="event-description">Nonton bareng film Indonesia terbaru dilanjutkan dengan diskusi
                            bersama. Lokasi: CGV Grand Indonesia.</p>
                        <div class="event-participants">
                            <img src="https://images.unsplash.com/photo-1619506147448-b56ba8395a2f?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                                class="event-participant">
                            <img src="https://images.unsplash.com/photo-1488426862026-3ee34a7d66df?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                                class="event-participant">
                            <img src="https://images.unsplash.com/photo-1499358517822-d8578907a095?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                                class="event-participant">
                            <div class="more-participants">+11</div>
                        </div>
                        <div class="flex justify-between mt-3">
                            <div class="flex items-center">
                                <i class="fas fa-coins mr-2" style="color: var(--primary-color)"></i>
                                <span class="font-bold">125 Poin</span>
                            </div>
                            <button class="primary-btn px-4 py-2 rounded-lg">Sisa 4 Tempat</button>
                        </div>
                    </div>
                </div>

                <div id="past-events" class="event-tab-content" style="display: none;">
                    <div class="event-card opacity-70">
                        <div class="event-badge">Selesai</div>
                        <h3 class="event-title">Yoga & Minuman Sehat</h3>
                        <p class="event-date">Minggu, 28 Mei • 08:00 - 10:00</p>
                        <p class="event-description">Sesi yoga pagi dilanjutkan dengan menikmati minuman sehat bersama.
                        </p>
                        <button class="secondary-btn w-full py-2 rounded-lg mt-3">Lihat Foto</button>
                    </div>
                </div>
            </div>

            <!-- Profile Tab -->
            <div id="profile-tab" class="tab-content">
                <div class="flex justify-center mb-6">
                    <div class="relative">
                        <img src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                            alt="Your profile picture"
                            class="w-24 h-24 rounded-full object-cover border-4 border-primary-color">
                        <div
                            class="absolute bottom-0 right-0 bg-primary-color text-white rounded-full w-8 h-8 flex items-center justify-center cursor-pointer">
                            <i class="fas fa-camera"></i>
                        </div>
                    </div>
                </div>

                <div class="my-attractiveness-section">
                    <div class="my-attractiveness-header">
                        <h3 class="font-semibold">Level Daya Tarik Anda</h3>
                        <span class="my-score">7.8</span>
                    </div>
                    <div class="attractiveness-indicator">
                        <div class="bar">
                            <div class="bar-fill level-8" style="width: 78%"></div>
                        </div>
                    </div>
                    <p class="upgrade-prompt">Upgrade ke Premium untuk meningkatkan skor daya tarik Anda</p>
                </div>

                <div class="flex items-center mb-1">
                    <h2 class="text-xl font-bold">Budi Santoso</h2>
                    <div class="verify-badge ml-2" style="background-color: var(--success-color);">
                        <i class="fas fa-check"></i>
                    </div>
                </div>
                <p class="text-sm opacity-70 mb-4">28 • Jakarta</p>

                <div class="card p-4 mb-4">
                    <h3 class="font-semibold mb-2">Status & Verifikasi</h3>
                    <div class="verification-indicators">
                        <div class="verification-indicator">
                            <i class="fas fa-id-card"></i>
                            <span>KTP Terverifikasi</span>
                        </div>
                        <div class="verification-indicator">
                            <i class="fas fa-globe-asia"></i>
                            <span>Warga Negara Indonesia</span>
                        </div>
                        <div class="verification-indicator">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Jakarta Asli</span>
                        </div>
                    </div>
                </div>

                <div class="card p-4 mb-4">
                    <h3 class="font-semibold mb-2">Tentang Saya</h3>
                    <p>Penikmat kopi, pecinta alam, dan software engineer. Mencari teman untuk petualangan baru!</p>
                    <div class="mt-4">
                        <div class="flex justify-between mb-2">
                            <span>Tempat Lahir</span>
                            <span>Bandung</span>
                        </div>
                        <div class="flex justify-between mb-2">
                            <span>Pendidikan</span>
                            <span>S1 Teknik Informatika</span>
                        </div>
                        <div class="flex justify-between mb-2">
                            <span>Penghasilan</span>
                            <span>Rp15-20 juta/bulan</span>
                        </div>
                        <div class="flex justify-between mb-2">
                            <span>Jumlah Mantan</span>
                            <span>3 orang</span>
                        </div>
                    </div>
                </div>

                <div class="card p-4 mb-4">
                    <h3 class="font-semibold mb-2">Foto Saya</h3>
                    <div class="grid grid-cols-3 gap-2">
                        <img src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                            class="w-full aspect-square object-cover rounded-lg">
                        <img src="https://images.unsplash.com/photo-1568602471122-7832951cc4c5?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                            class="w-full aspect-square object-cover rounded-lg">
                        <img src="https://images.unsplash.com/photo-1542737579-ba0a385f3b84?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                            class="w-full aspect-square object-cover rounded-lg">
                        <div
                            class="w-full aspect-square bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center cursor-pointer">
                            <i class="fas fa-plus text-gray-500 dark:text-gray-400"></i>
                        </div>
                    </div>
                </div>

                <div class="card p-4 mb-4">
                    <h3 class="font-semibold mb-2">Minat</h3>
                    <div>
                        <span class="preference-tag">Mendaki</span>
                        <span class="preference-tag">Ngopi</span>
                        <span class="preference-tag">Jalan-jalan</span>
                        <span class="preference-tag">Fotografi</span>
                        <span class="preference-tag">Masak</span>
                        <span class="preference-tag">+ Tambah</span>
                    </div>
                </div>

                <div class="card p-4 mb-4">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="font-semibold">Saran Peningkatan Profil</h3>
                        <button id="view-all-suggestions-btn" class="text-sm text-primary-color">Lihat Semua</button>
                    </div>
                    <div class="suggestion-card">
                        <div class="suggestion-title">
                            <i class="fas fa-camera suggestion-icon"></i>
                            <span>Tambahkan Foto dengan Aktivitas</span>
                        </div>
                        <p class="suggestion-content">Profil dengan foto aktivitas mendapat 32% lebih banyak matches.
                            Tambahkan foto saat Anda mendaki atau memasak.</p>
                        <button class="primary-btn w-full py-2 rounded-lg">Unggah Foto</button>
                    </div>
                </div>

                <div class="card p-4 mb-4">
                    <h3 class="font-semibold mb-2">Paket Membership</h3>
                    <div class="membership-card">
                        <div class="membership-pattern"></div>
                        <div class="membership-type">Paket Premium</div>
                        <div class="membership-details">Berlaku hingga 12 Juli 2023</div>
                        <div class="membership-features">
                            <div class="membership-feature">
                                <i class="fas fa-check"></i>
                                <span>350 Poin per bulan</span>
                                <span class="feature-badge premium">Premium</span>
                            </div>
                            <div class="membership-feature">
                                <i class="fas fa-check"></i>
                                <span>Lihat siapa yang menyukai Anda</span>
                                <span class="feature-badge premium">Premium</span>
                            </div>
                            <div class="membership-feature">
                                <i class="fas fa-check"></i>
                                <span>Filter lanjutan (pendapatan, verifikasi)</span>
                                <span class="feature-badge premium">Premium</span>
                            </div>
                        </div>
                        <button class="secondary-btn w-full py-2 rounded-lg mt-3">Perpanjang</button>
                    </div>
                </div>

                <div class="card p-4 mb-4">
                    <h3 class="font-semibold mb-2">Pengaturan Akun</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span>Lokasi</span>
                            <span class="opacity-70">Jakarta</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span>Jarak Preferensi</span>
                            <span class="opacity-70">30 km</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span>Rentang Umur</span>
                            <span class="opacity-70">24-35</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span>Tampilkan</span>
                            <span class="opacity-70">Wanita</span>
                        </div>
                    </div>
                </div>

                <button class="primary-btn w-full py-3 rounded-lg mb-6">
                    Simpan Perubahan
                </button>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="tabs-nav">
            <div class="nav-item active" data-tab="discover-tab">
                <i class="fas fa-search"></i>
                <span>Discover</span>
            </div>
            <div class="nav-item" data-tab="matches-tab">
                <i class="fas fa-heart"></i>
                <span>Matches</span>
            </div>
            <div class="nav-item" data-tab="messages-tab">
                <i class="fas fa-comment"></i>
                <span>Messages</span>
            </div>
            <div class="nav-item" data-tab="events-tab">
                <i class="fas fa-calendar"></i>
                <span>Events</span>
            </div>
            <div class="nav-item" data-tab="profile-tab">
                <i class="fas fa-user"></i>
                <span>Profile</span>
            </div>
        </nav>

        <!-- Match Notification Overlay -->
        <div class="match-notification" style="display: none;" id="match-notification">
            <div class="match-modal">
                <h2 class="text-2xl font-bold mb-2">Match!</h2>
                <p class="opacity-70 mb-4">Kamu dan <span id="match-name">Putri</span> saling menyukai</p>

                <div class="match-profiles">
                    <img src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                        alt="Your profile" class="match-profile animation-pulse">
                    <img id="match-profile-img" src="" alt="Match profile" class="match-profile animation-pulse">
                </div>

                <div class="flex gap-3 mt-4">
                    <button class="primary-btn flex-1 py-3 rounded-lg" id="send-message-btn">
                        Kirim Pesan
                    </button>
                    <button class="border border-gray-300 dark:border-gray-600 flex-1 py-3 rounded-lg"
                        id="keep-swiping-btn">
                        Lanjut Mencari
                    </button>
                </div>
            </div>
        </div>

        <!-- Full Profile Overlay -->
        <div class="profile-overlay" id="profile-overlay">
            <div class="close-profile" id="close-profile">
                <i class="fas fa-times"></i>
            </div>
            <div class="profile-container">
                <div class="profile-images">
                    <img src="" alt="Profile picture" class="w-full aspect-square object-cover" id="full-profile-image">
                    <div class="profile-nav">
                        <div class="profile-nav-btn prev-img">
                            <i class="fas fa-chevron-left"></i>
                        </div>
                        <div class="profile-nav-btn next-img">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                    <div class="attractiveness-badge">
                        <i class="fas fa-star star-icon"></i>
                        <span id="full-attractiveness-score">0</span>
                    </div>
                    <div class="verify-badge" id="full-verified-badge" style="display: none;">
                        <i class="fas fa-check"></i>
                    </div>
                </div>
                <div class="profile-details">
                    <h2 class="text-2xl font-bold" id="full-profile-name"></h2>
                    <div class="flex items-center mb-4">
                        <p class="text-sm opacity-80" id="full-profile-age-location"></p>
                        <div id="full-status-badge" class="status-badge ml-2" style="display: none;"></div>
                    </div>

                    <div class="mb-4">
                        <h3 class="font-semibold mb-2">Tentang</h3>
                        <p id="full-profile-bio"></p>
                    </div>

                    <div class="mb-4">
                        <h3 class="font-semibold mb-2">Minat</h3>
                        <div id="full-profile-interests"></div>
                    </div>

                    <div class="mb-4">
                        <h3 class="font-semibold mb-2">Detail Profil</h3>
                        <div class="space-y-2">
                            <div class="flex">
                                <span class="w-1/3 opacity-70">Suku</span>
                                <span id="full-profile-ethnicity"></span>
                            </div>
                            <div class="flex">
                                <span class="w-1/3 opacity-70">Agama</span>
                                <span id="full-profile-religion"></span>
                            </div>
                            <div class="flex">
                                <span class="w-1/3 opacity-70">Tinggi</span>
                                <span id="full-profile-height"></span>
                            </div>
                            <div class="flex">
                                <span class="w-1/3 opacity-70">Kecamatan</span>
                                <span id="full-profile-neighborhood"></span>
                            </div>
                            <div class="flex">
                                <span class="w-1/3 opacity-70">Tempat Lahir</span>
                                <span id="full-profile-birthplace"></span>
                            </div>
                            <div class="flex">
                                <span class="w-1/3 opacity-70">Penghasilan</span>
                                <span id="full-profile-income"></span>
                            </div>
                            <div class="flex">
                                <span class="w-1/3 opacity-70">Jumlah Mantan</span>
                                <span id="full-profile-ex-count"></span>
                            </div>
                        </div>
                    </div>

                    <div class="mb-4">
                        <h3 class="font-semibold mb-2">Verifikasi</h3>
                        <div id="full-profile-verification" class="verification-indicators"></div>
                    </div>

                    <div class="profile-completeness mb-4">
                        <h3 class="font-semibold mb-2">Kelengkapan Profil</h3>
                        <div class="completeness-bar">
                            <div class="completeness-bar-fill" id="full-profile-completeness-fill"></div>
                        </div>
                        <p class="text-sm mt-2" id="full-profile-completeness-text">Profil 80% lengkap</p>
                    </div>

                    <div class="flex gap-3 mt-6">
                        <button class="primary-btn flex-1 py-3 rounded-lg" id="profile-like-btn">
                            <i class="fas fa-heart mr-2"></i> Suka
                        </button>
                        <button class="border border-gray-300 dark:border-gray-600 flex-1 py-3 rounded-lg"
                            id="profile-message-btn">
                            <i class="fas fa-comment mr-2"></i> Pesan
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Filter Overlay -->
        <div class="filter-overlay" id="filter-overlay">
            <div class="filter-container">
                <div class="filter-header">
                    <h2 class="text-xl font-bold">Filter</h2>
                    <button id="close-filter-btn" class="p-2">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>Suku</span>
                        <span class="feature-badge free">Free</span>
                    </div>
                    <div class="filter-chips" id="ethnicity-filters">
                        <div class="filter-chip" data-value="jawa">Jawa</div>
                        <div class="filter-chip" data-value="sunda">Sunda</div>
                        <div class="filter-chip" data-value="batak">Batak</div>
                        <div class="filter-chip" data-value="minang">Minang</div>
                        <div class="filter-chip" data-value="bugis">Bugis</div>
                        <div class="filter-chip" data-value="bali">Bali</div>
                        <div class="filter-chip" data-value="betawi">Betawi</div>
                        <div class="filter-chip" data-value="madura">Madura</div>
                        <div class="filter-chip" data-value="aceh">Aceh</div>
                        <div class="filter-chip" data-value="melayu">Melayu</div>
                        <div class="filter-chip" data-value="tionghoa">Tionghoa</div>
                        <div class="filter-chip" data-value="dayak">Dayak</div>
                        <div class="filter-chip" data-value="sasak">Sasak</div>
                        <div class="filter-chip" data-value="lainnya">Lainnya</div>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>Kelengkapan Profil</span>
                        <span class="feature-badge premium">Premium</span>
                    </div>
                    <div class="filter-slider-container">
                        <input type="range" min="0" max="100" value="0" class="range-slider" id="completeness-slider">
                        <div class="filter-range">
                            <span>Minimal kelengkapan: <span id="completeness-value">0</span>%</span>
                        </div>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>Agama</span>
                        <span class="feature-badge free">Free</span>
                    </div>
                    <div class="filter-chips" id="religion-filters">
                        <div class="filter-chip" data-value="islam">Islam</div>
                        <div class="filter-chip" data-value="kristen">Kristen</div>
                        <div class="filter-chip" data-value="katolik">Katolik</div>
                        <div class="filter-chip" data-value="hindu">Hindu</div>
                        <div class="filter-chip" data-value="buddha">Buddha</div>
                        <div class="filter-chip" data-value="konghucu">Konghucu</div>
                        <div class="filter-chip" data-value="lainnya">Lainnya</div>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>Deteksi Suku dari Nama</span>
                        <span class="feature-badge premium">Premium</span>
                    </div>
                    <div class="filter-chips" id="name-ethnicity-filters">
                        <div class="filter-chip" data-value="jawa">Nama Jawa</div>
                        <div class="filter-chip" data-value="sunda">Nama Sunda</div>
                        <div class="filter-chip" data-value="batak">Nama Batak</div>
                        <div class="filter-chip" data-value="minang">Nama Minang</div>
                        <div class="filter-chip" data-value="tionghoa">Nama Tionghoa</div>
                        <div class="filter-chip" data-value="arab">Nama Arab</div>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>Status Residensi</span>
                        <span class="feature-badge premium">Premium</span>
                    </div>
                    <div class="filter-chips" id="residence-status-filters">
                        <div class="filter-chip" data-value="citizen">WNI</div>
                        <div class="filter-chip" data-value="expat">Ekspat</div>
                        <div class="filter-chip" data-value="tourist">Turis</div>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>Mode Travel</span>
                        <span class="feature-badge premium">Premium</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <span>Tampilkan pengguna dalam mode travel</span>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="travel-mode-toggle" class="sr-only">
                            <div
                                class="w-11 h-6 bg-gray-200 rounded-full dark:bg-gray-700 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-color">
                            </div>
                        </label>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>Verifikasi</span>
                        <span class="feature-badge premium">Premium</span>
                    </div>
                    <div class="flex items-center justify-between mb-3">
                        <span>Hanya tampilkan profil terverifikasi</span>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="verified-toggle" class="sr-only">
                            <div
                                class="w-11 h-6 bg-gray-200 rounded-full dark:bg-gray-700 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-color">
                            </div>
                        </label>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>Profil Palsu</span>
                        <span class="feature-badge premium">Premium</span>
                    </div>
                    <div class="flex items-center justify-between mb-3">
                        <span>Filter profil terlalu menarik (kemungkinan palsu)</span>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="fake-filter-toggle" class="sr-only">
                            <div
                                class="w-11 h-6 bg-gray-200 rounded-full dark:bg-gray-700 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-0.5 after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-color">
                            </div>
                        </label>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>Postur Tubuh</span>
                        <span class="feature-badge premium">Premium</span>
                    </div>
                    <div class="filter-chips" id="body-type-filters">
                        <div class="filter-chip" data-value="slim">Ramping</div>
                        <div class="filter-chip" data-value="athletic">Atletis</div>
                        <div class="filter-chip" data-value="average">Normal</div>
                        <div class="filter-chip" data-value="curvy">Berisi</div>
                        <div class="filter-chip" data-value="plus">Plus Size</div>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>Penghasilan</span>
                        <span class="feature-badge premium">Premium</span>
                    </div>
                    <div class="filter-slider-container">
                        <input type="range" min="5" max="100" value="5" class="range-slider" id="income-slider">
                        <div class="filter-range">
                            <span>Minimal penghasilan: <span id="income-value">5</span> juta/bulan</span>
                        </div>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>Pekerjaan</span>
                        <span class="feature-badge premium">Premium</span>
                    </div>
                    <select class="filter-select" id="job-select">
                        <option value="">Semua Pekerjaan</option>
                        <option value="tech">Teknologi</option>
                        <option value="medical">Kesehatan</option>
                        <option value="education">Pendidikan</option>
                        <option value="finance">Keuangan</option>
                        <option value="art">Seni & Desain</option>
                        <option value="service">Layanan</option>
                        <option value="business">Bisnis</option>
                        <option value="government">Pemerintahan</option>
                        <option value="student">Pelajar/Mahasiswa</option>
                    </select>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>Tingkat Daya Tarik</span>
                        <span class="feature-badge free">Free</span>
                    </div>
                    <div class="filter-slider-container">
                        <input type="range" min="1" max="10" value="5" class="range-slider" id="attractiveness-slider">
                        <div class="filter-range">
                            <span>Minimal daya tarik: <span id="attractiveness-value">5</span></span>
                        </div>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>Tinggi Badan</span>
                        <span class="feature-badge free">Free</span>
                    </div>
                    <div class="filter-slider-container">
                        <input type="range" min="145" max="195" value="145" class="range-slider" id="height-slider">
                        <div class="filter-range">
                            <span>Minimal tinggi: <span id="height-value">145</span> cm</span>
                        </div>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>Tempat Lahir</span>
                        <span class="feature-badge premium">Premium</span>
                    </div>
                    <select class="filter-select" id="birthplace-select">
                        <option value="">Semua Tempat Lahir</option>
                        <option value="jakarta">Jakarta</option>
                        <option value="bandung">Bandung</option>
                        <option value="surabaya">Surabaya</option>
                        <option value="medan">Medan</option>
                        <option value="makassar">Makassar</option>
                        <option value="yogyakarta">Yogyakarta</option>
                        <option value="denpasar">Denpasar</option>
                        <option value="palembang">Palembang</option>
                        <option value="semarang">Semarang</option>
                        <option value="padang">Padang</option>
                        <option value="luar_negeri">Luar Negeri</option>
                    </select>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>Kecamatan</span>
                        <span class="feature-badge free">Free</span>
                    </div>
                    <select class="neighborhood-select" id="neighborhood-select">
                        <option value="">Pilih Kecamatan</option>
                        <option value="jakarta pusat">Jakarta Pusat</option>
                        <option value="menteng">Menteng</option>
                        <option value="kemayoran">Kemayoran</option>
                        <option value="senen">Senen</option>
                        <option value="cempaka putih">Cempaka Putih</option>
                        <option value="jakarta utara">Jakarta Utara</option>
                        <option value="koja">Koja</option>
                        <option value="cilincing">Cilincing</option>
                        <option value="penjaringan">Penjaringan</option>
                        <option value="jakarta barat">Jakarta Barat</option>
                        <option value="tambora">Tambora</option>
                        <option value="grogol">Grogol Petamburan</option>
                        <option value="kebon jeruk">Kebon Jeruk</option>
                        <option value="jakarta selatan">Jakarta Selatan</option>
                        <option value="kebayoran baru">Kebayoran Baru</option>
                        <option value="pancoran">Pancoran</option>
                        <option value="cilandak">Cilandak</option>
                        <option value="jakarta timur">Jakarta Timur</option>
                        <option value="jatinegara">Jatinegara</option>
                        <option value="duren sawit">Duren Sawit</option>
                        <option value="matraman">Matraman</option>
                        <option value="bandung">Bandung</option>
                        <option value="surabaya">Surabaya</option>
                        <option value="yogyakarta">Yogyakarta</option>
                        <option value="bali">Bali</option>
                    </select>
                </div>

                <div class="filter-actions">
                    <button id="reset-all-filters-btn"
                        class="border border-gray-300 dark:border-gray-600 flex-1 py-3 rounded-lg">
                        Reset Semua
                    </button>
                    <button id="apply-filters-btn" class="primary-btn flex-1 py-3 rounded-lg">
                        Terapkan Filter
                    </button>
                </div>
            </div>
        </div>

        <!-- Points Overlay -->
        <div class="points-overlay" id="points-overlay">
            <div class="overlay-container">
                <div class="overlay-header">
                    <h2 class="text-xl font-bold">Poin Anda</h2>
                    <button id="close-points-btn" class="p-2">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <div class="points-balance">
                    <i class="fas fa-coins points-icon fa-lg"></i>
                    <span>250 Poin</span>
                </div>

                <h3 class="font-semibold mb-3">Cara Menggunakan Poin</h3>
                <ul class="list-disc pl-5 mb-6 space-y-2">
                    <li>1 poin = 1 swipe</li>
                    <li>Superlike berharga 3-15 poin (tergantung daya tarik pengguna)</li>
                    <li>Acara event berharga 50-150 poin</li>
                    <li>Fitur premium berharga 100-300 poin</li>
                </ul>

                <h3 class="font-semibold mb-3">Beli Paket Poin</h3>

                <div class="points-card">
                    <div>
                        <div class="points-amount">100 Poin</div>
                        <div class="points-details">Berlaku 1 bulan</div>
                    </div>
                    <button class="primary-btn px-4 py-2 rounded-lg">Rp 25.000</button>
                </div>

                <div class="points-card">
                    <div>
                        <div class="points-amount">300 Poin</div>
                        <div class="points-details">Berlaku 1 bulan</div>
                    </div>
                    <button class="primary-btn px-4 py-2 rounded-lg">Rp 60.000</button>
                </div>

                <div class="points-card">
                    <div>
                        <div class="points-amount">750 Poin</div>
                        <div class="points-details">Berlaku 3 bulan</div>
                    </div>
                    <button class="primary-btn px-4 py-2 rounded-lg">Rp 120.000</button>
                </div>

                <div class="points-card">
                    <div>
                        <div class="points-amount">2000 Poin</div>
                        <div class="points-details">Berlaku 6 bulan</div>
                    </div>
                    <button class="primary-btn px-4 py-2 rounded-lg">Rp 250.000</button>
                </div>

                <h3 class="font-semibold my-3">Paket Premium</h3>

                <div class="points-card">
                    <div>
                        <div class="points-amount">Premium</div>
                        <div class="points-details">350 poin/bulan + fitur eksklusif</div>
                    </div>
                    <button class="primary-btn px-4 py-2 rounded-lg">Rp 150.000/bln</button>
                </div>
            </div>
        </div>

        <!-- Rating Overlay -->
        <div class="rating-overlay" id="rating-overlay">
            <div class="overlay-container">
                <div class="overlay-header">
                    <h2 class="text-xl font-bold">Nilai Profil</h2>
                    <button id="close-rating-btn" class="p-2">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <div class="card p-4 mb-4 text-center">
                    <img id="rating-profile-pic" src="" alt="Profile picture"
                        class="w-20 h-20 rounded-full object-cover mx-auto mb-3">
                    <h3 id="rating-profile-name" class="font-semibold mb-4">Putri</h3>

                    <div class="rating-stars">
                        <i class="fas fa-star rating-star" data-rating="1"></i>
                        <i class="fas fa-star rating-star" data-rating="2"></i>
                        <i class="fas fa-star rating-star" data-rating="3"></i>
                        <i class="fas fa-star rating-star" data-rating="4"></i>
                        <i class="fas fa-star rating-star" data-rating="5"></i>
                    </div>

                    <div class="text-left mt-4 mb-2">
                        <label class="font-semibold">Kesan Anda:</label>
                    </div>

                    <div class="flex flex-wrap gap-2 mb-4">
                        <span class="rating-tag" data-tag="menarik">Menarik</span>
                        <span class="rating-tag" data-tag="cerdas">Cerdas</span>
                        <span class="rating-tag" data-tag="humoris">Humoris</span>
                        <span class="rating-tag" data-tag="ramah">Ramah</span>
                        <span class="rating-tag" data-tag="sopan">Sopan</span>
                        <span class="rating-tag" data-tag="asik">Asik diajak ngobrol</span>
                        <span class="rating-tag" data-tag="terbuka">Terbuka</span>
                        <span class="rating-tag" data-tag="kalem">Kalem</span>
                        <span class="rating-tag negative" data-tag="membosankan">Membosankan</span>
                        <span class="rating-tag negative" data-tag="cuek">Cuek</span>
                    </div>

                    <div class="text-left mb-2">
                        <label class="font-semibold">Komentar (opsional):</label>
                    </div>
                    <textarea class="w-full p-2 border rounded-lg mb-4" rows="3"
                        placeholder="Bagikan pengalaman Anda..."></textarea>

                    <button class="primary-btn w-full py-2 rounded-lg">Kirim Penilaian</button>
                </div>

                <div class="card p-4 mb-4">
                    <h3 class="font-semibold mb-3">Penilaian Lainnya</h3>

                    <div class="feedback-item bg-gray-100 dark:bg-gray-800">
                        <div class="feedback-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="font-semibold">Andi</div>
                        <div class="text-sm">
                            <span class="rating-tag">Menarik</span>
                            <span class="rating-tag">Cerdas</span>
                        </div>
                        <div class="feedback-text">"Sangat menyenangkan dan terbuka. Obrolan lancar dan seru."</div>
                        <div class="feedback-date">4 hari yang lalu</div>
                    </div>

                    <div class="feedback-item bg-gray-100 dark:bg-gray-800">
                        <div class="feedback-rating">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                        </div>
                        <div class="font-semibold">Bima</div>
                        <div class="text-sm">
                            <span class="rating-tag">Humoris</span>
                            <span class="rating-tag">Ramah</span>
                        </div>
                        <div class="feedback-date">1 minggu yang lalu</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Suggestion Overlay -->
        <div class="suggestion-overlay" id="suggestion-overlay">
            <div class="overlay-container">
                <div class="overlay-header">
                    <h2 class="text-xl font-bold">Saran Peningkatan</h2>
                    <button id="close-suggestion-btn" class="p-2">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <div class="suggestion-card">
                    <div class="suggestion-title">
                        <i class="fas fa-camera suggestion-icon"></i>
                        <span>Tambahkan Foto dengan Aktivitas</span>
                    </div>
                    <p class="suggestion-content">Profil dengan foto aktivitas mendapat 32% lebih banyak matches.
                        Tambahkan foto saat Anda mendaki atau memasak.</p>
                    <button class="primary-btn w-full py-2 rounded-lg">Unggah Foto</button>
                </div>

                <div class="suggestion-card">
                    <div class="suggestion-title">
                        <i class="fas fa-pen suggestion-icon"></i>
                        <span>Lengkapi Deskripsi Profil</span>
                    </div>
                    <p class="suggestion-content">Profil dengan deskripsi lengkap mendapat 50% lebih banyak perhatian.
                        Ceritakan lebih banyak tentang minat dan hobi Anda.</p>
                    <button class="primary-btn w-full py-2 rounded-lg">Edit Deskripsi</button>
                </div>

                <div class="suggestion-card">
                    <div class="suggestion-title">
                        <i class="fas fa-id-card suggestion-icon"></i>
                        <span>Verifikasi KTP</span>
                    </div>
                    <p class="suggestion-content">Profil terverifikasi mendapat 70% lebih banyak matches dan respons
                        pesan yang lebih cepat.</p>
                    <button class="primary-btn w-full py-2 rounded-lg">Verifikasi Sekarang</button>
                </div>

                <div class="suggestion-card">
                    <div class="suggestion-title">
                        <i class="fas fa-dumbbell suggestion-icon"></i>
                        <span>Tingkatkan Penampilan</span>
                    </div>
                    <p class="suggestion-content">Berdasarkan analisis AI, peningkatan kebugaran dan gaya rambut dapat
                        meningkatkan daya tarik Anda sebesar 1.5 poin.</p>
                    <button class="primary-btn w-full py-2 rounded-lg">Lihat Saran Detail</button>
                </div>

                <div class="suggestion-card">
                    <div class="suggestion-title">
                        <i class="fas fa-comment suggestion-icon"></i>
                        <span>Perbaiki Cara Mengobrol</span>
                    </div>
                    <p class="suggestion-content">Analisis percakapan menunjukkan Anda sering menggunakan pertanyaan
                        tertutup. Coba tanyakan hal yang memerlukan jawaban lebih panjang.</p>
                    <button class="primary-btn w-full py-2 rounded-lg">Contoh Percakapan</button>
                </div>
            </div>
        </div>

        <!-- Warning Overlay -->
        <div class="warning-overlay" id="warning-overlay">
            <div class="warning-modal">
                <div class="warning-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <h3 class="text-xl font-bold mb-2">Peringatan</h3>
                <p class="mb-4">Kami mendeteksi Anda mencoba meminta nomor telepon secara langsung. Demi keamanan, hal
                    ini tidak diperbolehkan sebelum interaksi yang cukup.</p>
                <p class="text-sm mb-4">Teruskan percakapan yang bermakna terlebih dahulu. Sistem AI akan memberi tahu
                    kapan saat yang tepat untuk bertukar kontak.</p>
                <button id="close-warning-btn" class="primary-btn w-full py-2 rounded-lg">Saya Mengerti</button>
            </div>
        </div>

        <!-- Superswipe Confirmation Overlay -->
        <div class="superswipe-overlay" id="superswipe-overlay"></div>
        <div class="superswipe-modal" id="superswipe-modal">
            <h3 class="text-lg font-bold mb-3">Konfirmasi Super Like</h3>
            <img id="superswipe-profile-pic" src="" class="superswipe-profile">
            <p>Super Like pada <strong id="superswipe-name"></strong> akan meningkatkan peluang match hingga 3x lipat
            </p>
            <div class="superswipe-price">
                <i class="fas fa-coins" style="color: gold;"></i>
                <span id="superswipe-point-cost">10</span> <span>Poin</span>
            </div>
            <div class="flex gap-3">
                <button id="cancel-superswipe-btn"
                    class="border border-gray-300 dark:border-gray-600 flex-1 py-2 rounded-lg">Batal</button>
                <button id="confirm-superswipe-btn" class="primary-btn flex-1 py-2 rounded-lg">Konfirmasi</button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.8.1/flowbite.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Sample Indonesian profile data with expanded attributes
            const profiles = [
                {
                    id: 1,
                    name: "Putri Wulandari",
                    age: 26,
                    location: "Jakarta",
                    neighborhood: "kebayoran baru",
                    ethnicity: "jawa",
                    religion: "islam",
                    height: 163,
                    attractiveness: 8.7,
                    bio: "Suka jalan-jalan ke kafe baru dan mencoba kuliner lokal. Bekerja sebagai guru bahasa Indonesia.",
                    birthplace: "Yogyakarta",
                    job: "education",
                    jobTitle: "Guru Bahasa Indonesia",
                    income: "8-12",
                    bodyType: "average",
                    verified: true,
                    verifications: ["id", "face", "education"],
                    status: "citizen",
                    travelMode: false,
                    exCount: 2,
                    fakeProbability: 0.1,
                    profileCompleteness: 85,
                    images: [
                        "https://images.unsplash.com/photo-1534751516642-a1af1ef26a56?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1502323777036-f29e3972f5ea?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1589307004173-3c95204d0d09?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    ],
                    interests: ["Kuliner", "Baca Novel", "Traveling", "Fotografi", "Ngopi"]
                },
                {
                    id: 2,
                    name: "Siti Mahmudah",
                    age: 24,
                    location: "Bandung",
                    neighborhood: "bandung",
                    ethnicity: "sunda",
                    religion: "islam",
                    height: 158,
                    attractiveness: 7.5,
                    bio: "Mahasiswi kedokteran tahun akhir. Hobi memasak dan mendaki gunung di waktu luang.",
                    birthplace: "Bandung",
                    job: "medical",
                    jobTitle: "Mahasiswi Kedokteran",
                    income: "3-5",
                    bodyType: "slim",
                    verified: true,
                    verifications: ["id", "face", "education"],
                    status: "citizen",
                    travelMode: false,
                    exCount: 1,
                    fakeProbability: 0.05,
                    profileCompleteness: 92,
                    images: [
                        "https://images.unsplash.com/photo-1619506147448-b56ba8395a2f?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1499358517822-d8578907a095?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    ],
                    interests: ["Mendaki", "Memasak", "Membaca", "Film", "Musik"]
                },
                {
                    id: 3,
                    name: "Anisa Chen",
                    age: 28,
                    location: "Surabaya",
                    neighborhood: "surabaya",
                    ethnicity: "tionghoa",
                    religion: "kristen",
                    height: 167,
                    attractiveness: 9.2,
                    bio: "Software developer yang suka kulineran. Mencari seseorang yang bisa diajak diskusi sambil makan enak.",
                    birthplace: "Surabaya",
                    job: "tech",
                    jobTitle: "Software Developer",
                    income: "15-25",
                    bodyType: "average",
                    verified: true,
                    verifications: ["id", "face", "linkedin", "education"],
                    status: "citizen",
                    travelMode: false,
                    exCount: 3,
                    fakeProbability: 0.12,
                    profileCompleteness: 96,
                    images: [
                        "https://images.unsplash.com/photo-1593351415075-3bac9f45c877?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1589483233144-6ae9753525ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    ],
                    interests: ["Coding", "Kulineran", "Kopi", "Game", "Teknologi"]
                },
                {
                    id: 4,
                    name: "Maya Fatima",
                    age: 25,
                    location: "Yogyakarta",
                    neighborhood: "yogyakarta",
                    ethnicity: "minang",
                    religion: "islam",
                    height: 160,
                    attractiveness: 8.1,
                    bio: "Seniman batik dan pecinta budaya. Menghabiskan waktu di museum dan galeri seni lokal.",
                    birthplace: "Padang",
                    job: "art",
                    jobTitle: "Seniman Batik",
                    income: "5-8",
                    bodyType: "slim",
                    verified: false,
                    verifications: ["face"],
                    status: "citizen",
                    travelMode: false,
                    exCount: 2,
                    fakeProbability: 0.08,
                    profileCompleteness: 70,
                    images: [
                        "https://images.unsplash.com/photo-1573140247632-f8fd74997d5c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1459356067573-0a190eb1a142?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    ],
                    interests: ["Batik", "Seni", "Budaya", "Museum", "Fotografi"]
                },
                {
                    id: 5,
                    name: "Dian Kusuma",
                    age: 27,
                    location: "Bali",
                    neighborhood: "bali",
                    ethnicity: "bali",
                    religion: "hindu",
                    height: 165,
                    attractiveness: 9.5,
                    bio: "Yoga instructor dan penggiat lingkungan. Mari bantu selamatkan pantai-pantai Bali bersama!",
                    birthplace: "Denpasar",
                    job: "service",
                    jobTitle: "Yoga Instructor",
                    income: "10-15",
                    bodyType: "athletic",
                    verified: true,
                    verifications: ["id", "face", "instagram"],
                    status: "citizen",
                    travelMode: false,
                    exCount: 4,
                    fakeProbability: 0.2,
                    profileCompleteness: 88,
                    images: [
                        "https://images.unsplash.com/photo-1611042553365-9b101d0c3105?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1617758227344-145ac0751272?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    ],
                    interests: ["Yoga", "Lingkungan", "Pantai", "Surfing", "Meditasi"]
                },
                {
                    id: 6,
                    name: "Ratna Sari",
                    age: 29,
                    location: "Jakarta",
                    neighborhood: "menteng",
                    ethnicity: "betawi",
                    religion: "islam",
                    height: 162,
                    attractiveness: 7.9,
                    bio: "Marketing specialist di perusahaan startup. Suka mencoba kafe baru dan weekend getaway.",
                    birthplace: "Jakarta",
                    job: "business",
                    jobTitle: "Marketing Specialist",
                    income: "12-18",
                    bodyType: "average",
                    verified: true,
                    verifications: ["id", "face", "linkedin"],
                    status: "citizen",
                    travelMode: false,
                    exCount: 3,
                    fakeProbability: 0.07,
                    profileCompleteness: 82,
                    images: [
                        "https://images.unsplash.com/photo-1605993439219-9d09d2020fa5?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1602233158242-3ba0ac4d2167?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    ],
                    interests: ["Kuliner", "Traveling", "Kopi", "Film", "Fotografi"]
                },
                {
                    id: 7,
                    name: "Dewi Anggraini",
                    age: 26,
                    location: "Jakarta",
                    neighborhood: "kemayoran",
                    ethnicity: "jawa",
                    religion: "islam",
                    height: 164,
                    attractiveness: 6.8,
                    bio: "Content creator dan food blogger. Selalu mencari tempat makan baru yang unik untuk diulas.",
                    birthplace: "Semarang",
                    job: "art",
                    jobTitle: "Content Creator",
                    income: "8-15",
                    bodyType: "average",
                    verified: false,
                    verifications: ["instagram"],
                    status: "citizen",
                    travelMode: false,
                    exCount: 2,
                    fakeProbability: 0.1,
                    profileCompleteness: 65,
                    images: [
                        "https://images.unsplash.com/photo-1488426862026-3ee34a7d66df?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1469334031218-e382a71b716b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    ],
                    interests: ["Food Blogging", "Fotografi", "Sosial Media", "Traveling", "Fashion"]
                },
                {
                    id: 8,
                    name: "Lina Situmorang",
                    age: 30,
                    location: "Jakarta",
                    neighborhood: "jakarta timur",
                    ethnicity: "batak",
                    religion: "kristen",
                    height: 168,
                    attractiveness: 8.4,
                    bio: "Dokter hewan yang suka hiking di akhir pekan. Cari teman untuk menjelajahi gunung baru.",
                    birthplace: "Medan",
                    job: "medical",
                    jobTitle: "Dokter Hewan",
                    income: "15-20",
                    bodyType: "athletic",
                    verified: true,
                    verifications: ["id", "face", "education", "linkedin"],
                    status: "citizen",
                    travelMode: false,
                    exCount: 3,
                    fakeProbability: 0.05,
                    profileCompleteness: 98,
                    images: [
                        "https://images.unsplash.com/photo-1548142813-c348350df52b?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1527203561188-dae1bc1a417f?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    ],
                    interests: ["Hiking", "Hewan", "Alam", "Fotografi", "Camping"]
                },
                {
                    id: 9,
                    name: "Sarah Aulia",
                    age: 25,
                    location: "Jakarta",
                    neighborhood: "cilandak",
                    ethnicity: "bugis",
                    religion: "katolik",
                    height: 160,
                    attractiveness: 7.2,
                    bio: "Arsitek yang terobsesi dengan kopi. Selalu membawa buku sketsa kemanapun pergi.",
                    birthplace: "Makassar",
                    job: "art",
                    jobTitle: "Arsitek",
                    income: "10-15",
                    bodyType: "slim",
                    verified: true,
                    verifications: ["id", "face"],
                    status: "citizen",
                    travelMode: false,
                    exCount: 2,
                    fakeProbability: 0.08,
                    profileCompleteness: 75,
                    images: [
                        "https://images.unsplash.com/photo-1524250502761-1ac6f2e30d43?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1532170579297-281918c8ae72?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    ],
                    interests: ["Arsitektur", "Kopi", "Sketsa", "Design", "Traveling"]
                },
                {
                    id: 10,
                    name: "Tari Puspita",
                    age: 27,
                    location: "Jakarta",
                    neighborhood: "pancoran",
                    ethnicity: "aceh",
                    religion: "islam",
                    height: 157,
                    attractiveness: 8.0,
                    bio: "Penari tradisional dan pengajar tari. Mencintai budaya Indonesia dan ingin melestarikannya.",
                    birthplace: "Banda Aceh",
                    job: "art",
                    jobTitle: "Penari & Pengajar",
                    income: "5-10",
                    bodyType: "athletic",
                    verified: false,
                    verifications: ["instagram"],
                    status: "citizen",
                    travelMode: false,
                    exCount: 2,
                    fakeProbability: 0.06,
                    profileCompleteness: 78,
                    images: [
                        "https://images.unsplash.com/photo-1604004555489-723a93d6ce74?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1524638431109-93d95c968f03?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    ],
                    interests: ["Tari", "Budaya", "Musik", "Sejarah", "Traveling"]
                },
                {
                    id: 11,
                    name: "Indah Permata",
                    age: 28,
                    location: "Jakarta",
                    neighborhood: "grogol",
                    ethnicity: "madura",
                    religion: "islam",
                    height: 166,
                    attractiveness: 6.5,
                    bio: "Dosen bahasa Inggris yang suka memasak. Mencoba resep baru setiap akhir pekan.",
                    birthplace: "Surabaya",
                    job: "education",
                    jobTitle: "Dosen Bahasa Inggris",
                    income: "8-12",
                    bodyType: "average",
                    verified: true,
                    verifications: ["id", "face", "education"],
                    status: "citizen",
                    travelMode: false,
                    exCount: 1,
                    fakeProbability: 0.03,
                    profileCompleteness: 80,
                    images: [
                        "https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1531123897727-8f129e1688ce?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    ],
                    interests: ["Memasak", "Bahasa", "Membaca", "Menulis", "Film"]
                },
                {
                    id: 12,
                    name: "Rini Rachman",
                    age: 29,
                    location: "Jakarta",
                    neighborhood: "duren sawit",
                    ethnicity: "sunda",
                    religion: "buddha",
                    height: 155,
                    attractiveness: 7.7,
                    bio: "Pekerja NGO dengan misi sosial. Suka fotografi jalanan dan dokumenter.",
                    birthplace: "Bandung",
                    job: "service",
                    jobTitle: "NGO Project Manager",
                    income: "10-15",
                    bodyType: "average",
                    verified: true,
                    verifications: ["id", "face", "linkedin"],
                    status: "citizen",
                    travelMode: false,
                    exCount: 3,
                    fakeProbability: 0.04,
                    profileCompleteness: 85,
                    images: [
                        "https://images.unsplash.com/photo-1499952127939-9bbf5af6c51c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1558898479-33c0057a5d12?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    ],
                    interests: ["Fotografi", "Kemanusiaan", "Isu Sosial", "Dokumenter", "Traveling"]
                },
                {
                    id: 13,
                    name: "Nadia Yasmina",
                    age: 26,
                    location: "Jakarta",
                    neighborhood: "menteng",
                    ethnicity: "arab",
                    religion: "islam",
                    height: 163,
                    attractiveness: 9.8,
                    bio: "Model dan influencer. Suka traveling dan fashion photography.",
                    birthplace: "Jakarta",
                    job: "art",
                    jobTitle: "Model & Influencer",
                    income: "20-30",
                    bodyType: "slim",
                    verified: false,
                    verifications: ["instagram"],
                    status: "citizen",
                    travelMode: false,
                    exCount: 5,
                    fakeProbability: 0.85,
                    profileCompleteness: 60,
                    images: [
                        "https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1509967419530-da38b4704bc6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    ],
                    interests: ["Fashion", "Traveling", "Fotografi", "Shopping", "Kuliner"]
                },
                {
                    id: 14,
                    name: "Kylie Williams",
                    age: 27,
                    location: "Jakarta",
                    neighborhood: "kemayoran",
                    ethnicity: "western",
                    religion: "kristen",
                    height: 170,
                    attractiveness: 9.0,
                    bio: "English teacher from Australia. Exploring Indonesia and learning about the culture.",
                    birthplace: "Sydney",
                    job: "education",
                    jobTitle: "English Teacher",
                    income: "15-20",
                    bodyType: "athletic",
                    verified: true,
                    verifications: ["passport", "face", "education"],
                    status: "expat",
                    travelMode: false,
                    exCount: 4,
                    fakeProbability: 0.15,
                    profileCompleteness: 90,
                    images: [
                        "https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1521146764736-56c929d59c83?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    ],
                    interests: ["Traveling", "Bahasa", "Budaya", "Hiking", "Fotografi"]
                },
                {
                    id: 15,
                    name: "Sophia Lee",
                    age: 25,
                    location: "Jakarta",
                    neighborhood: "kemayoran",
                    ethnicity: "tionghoa",
                    religion: "kristen",
                    height: 165,
                    attractiveness: 8.9,
                    bio: "Digital nomad visiting Jakarta for a month. Looking for local friends to explore the city.",
                    birthplace: "Hong Kong",
                    job: "tech",
                    jobTitle: "UX Designer",
                    income: "20-30",
                    bodyType: "slim",
                    verified: true,
                    verifications: ["passport", "face", "linkedin"],
                    status: "tourist",
                    travelMode: true,
                    exCount: 3,
                    fakeProbability: 0.2,
                    profileCompleteness: 75,
                    images: [
                        "https://images.unsplash.com/photo-1504276048855-f3d60e69632f?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1496440737103-cd596325d314?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    ],
                    interests: ["Travel", "Design", "Food", "Architecture", "Photography"]
                },
                {
                    id: 16,
                    name: "Isabella Garcia",
                    age: 28,
                    location: "Jakarta",
                    neighborhood: "kebayoran baru",
                    ethnicity: "western",
                    religion: "katolik",
                    height: 168,
                    attractiveness: 8.8,
                    bio: "Spanish architect working in Jakarta for 6 months. Love Indonesian food and culture!",
                    birthplace: "Barcelona",
                    job: "art",
                    jobTitle: "Architect",
                    income: "15-25",
                    bodyType: "average",
                    verified: true,
                    verifications: ["passport", "face", "linkedin", "employment"],
                    status: "expat",
                    travelMode: false,
                    exCount: 3,
                    fakeProbability: 0.1,
                    profileCompleteness: 92,
                    images: [
                        "https://images.unsplash.com/photo-1549351236-caca0f174515?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                        "https://images.unsplash.com/photo-1557862921-37829c790f19?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80"
                    ],
                    interests: ["Architecture", "Design", "Food", "Culture", "Travel"]
                }
            ];

            // Sample matches data with expanded attributes
            const matches = [
                {
                    id: 101,
                    name: "Putri",
                    image: "https://images.unsplash.com/photo-1534751516642-a1af1ef26a56?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    lastSeen: "2 jam yang lalu",
                    attractiveness: 8.7,
                    verified: true
                },
                {
                    id: 102,
                    name: "Siti",
                    image: "https://images.unsplash.com/photo-1619506147448-b56ba8395a2f?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    lastSeen: "Online",
                    attractiveness: 7.5,
                    verified: true
                },
                {
                    id: 103,
                    name: "Anisa",
                    image: "https://images.unsplash.com/photo-1593351415075-3bac9f45c877?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    lastSeen: "1 hari yang lalu",
                    attractiveness: 9.2,
                    verified: true
                },
                {
                    id: 104,
                    name: "Maya",
                    image: "https://images.unsplash.com/photo-1573140247632-f8fd74997d5c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    lastSeen: "2 hari yang lalu",
                    attractiveness: 8.1,
                    verified: false
                }
            ];

            // Sample conversations data with expanded attributes
            const conversations = [
                {
                    id: 201,
                    userId: 101,
                    name: "Putri",
                    image: "https://images.unsplash.com/photo-1534751516642-a1af1ef26a56?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    lastMessage: "Boleh, aku juga suka kopi di sana!",
                    time: "12:45 PM",
                    unread: true,
                    attractiveness: 8.7,
                    messageCount: 7,
                    matchDate: "2023-06-02",
                    verified: true
                },
                {
                    id: 202,
                    userId: 102,
                    name: "Siti",
                    image: "https://images.unsplash.com/photo-1619506147448-b56ba8395a2f?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    lastMessage: "Hahaha, kamu bisa aja! 😂",
                    time: "Kemarin",
                    unread: false,
                    attractiveness: 7.5,
                    messageCount: 5,
                    matchDate: "2023-06-04",
                    verified: true
                },
                {
                    id: 203,
                    userId: 103,
                    name: "Anisa",
                    image: "https://images.unsplash.com/photo-1593351415075-3bac9f45c877?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    lastMessage: "Hai, minggu ini kamu sibuk?",
                    time: "Senin",
                    unread: false,
                    attractiveness: 9.2,
                    messageCount: 4,
                    matchDate: "2023-06-05",
                    verified: true
                }
            ];

            // Sample messages for a conversation with expanded attributes
            const messages = {
                101: [
                    {
                        id: 1,
                        senderId: 101,
                        text: "Hai! Aku lihat kita sama-sama suka fotografi.",
                        time: "11:20 AM",
                        sent: false
                    },
                    {
                        id: 2,
                        senderId: "me",
                        text: "Halo Putri! Iya, aku memang suka fotografi beberapa tahun ini. Kamu biasanya foto apa?",
                        time: "11:25 AM",
                        sent: true
                    },
                    {
                        id: 3,
                        senderId: 101,
                        text: "Aku suka street photography dan momen candid. Tapi aku juga suka foto landscape waktu traveling.",
                        time: "11:40 AM",
                        sent: false
                    },
                    {
                        id: 4,
                        senderId: "me",
                        text: "Keren! Aku lebih suka foto landscape dan arsitektur. Kamu pernah ke pameran foto yang bagus belakangan ini?",
                        time: "11:42 AM",
                        sent: true
                    },
                    {
                        id: 5,
                        senderId: 101,
                        text: "Kebetulan ada pameran keren di Museum Seni Modern saat ini. Mau ke sana bareng?",
                        time: "12:30 PM",
                        sent: false,
                        isInfoReveal: true,
                        title: "Informasi Baru Terungkap",
                        content: "Putri telah membagikan nomor WhatsApp. Butuh daya tarik minimum 8.5 untuk melihatnya."
                    },
                    {
                        id: 6,
                        senderId: "me",
                        text: "Boleh banget! Kapan kamu bisa?",
                        time: "12:40 PM",
                        sent: true
                    },
                    {
                        id: 7,
                        senderId: 101,
                        text: "Boleh, aku juga suka kopi di sana!",
                        time: "12:45 PM",
                        sent: false
                    }
                ],
                102: [
                    {
                        id: 1,
                        senderId: 102,
                        text: "Hai! Apa kabar?",
                        time: "Kemarin, 9:15 AM",
                        sent: false
                    },
                    {
                        id: 2,
                        senderId: "me",
                        text: "Baik! Baru selesai kelas yoga yang lumayan menantang. Kamu sendiri bagaimana?",
                        time: "Kemarin, 9:30 AM",
                        sent: true
                    },
                    {
                        id: 3,
                        senderId: 102,
                        text: "Wah keren! Yoga jenis apa? Aku suka banget vinyasa flow.",
                        time: "Kemarin, 9:45 AM",
                        sent: false
                    },
                    {
                        id: 4,
                        senderId: "me",
                        text: "Hot yoga! Pertama kali coba dan masih capek banget sampai sekarang 😅",
                        time: "Kemarin, 10:00 AM",
                        sent: true
                    },
                    {
                        id: 5,
                        senderId: 102,
                        text: "Hahaha, kamu bisa aja! 😂 Hot yoga itu memang berat! Aku pernah coba sekali dan hampir pingsan. Salut buat kamu yang tahan!",
                        time: "Kemarin, 10:15 AM",
                        sent: false,
                        isInfoReveal: true,
                        title: "Informasi Baru Terungkap",
                        content: "Siti telah membagikan akun Instagram-nya. Butuh daya tarik minimum 7.0 untuk melihatnya."
                    }
                ],
                103: [
                    {
                        id: 1,
                        senderId: "me",
                        text: "Hai Anisa! Aku lihat kita match. Hari ini lancar?",
                        time: "Senin, 3:20 PM",
                        sent: true
                    },
                    {
                        id: 2,
                        senderId: 103,
                        text: "Halo! Lancar kok, cuma sibuk kerja. Kamu gimana?",
                        time: "Senin, 5:45 PM",
                        sent: false
                    },
                    {
                        id: 3,
                        senderId: "me",
                        text: "Sama, sibuk tapi baik-baik aja! Aku lihat kamu suka hiking - udah coba jalur di sekitar kota?",
                        time: "Senin, 6:30 PM",
                        sent: true
                    },
                    {
                        id: 4,
                        senderId: 103,
                        text: "Hai, minggu ini kamu sibuk?",
                        time: "Senin, 8:15 PM",
                        sent: false,
                        isInfoReveal: true,
                        title: "Informasi Baru Terungkap",
                        content: "Anisa telah membagikan nomor WhatsApp dan akun Instagram-nya. Butuh daya tarik minimum 9.0 untuk melihatnya."
                    }
                ]
            };

            // Define quick reply templates for easy messaging
            const quickReplyTemplates = {
                greeting: [
                    "Hai! Apa kabar?",
                    "Halo, senang berkenalan denganmu!",
                    "Hai, profile kamu menarik!"
                ],
                interests: [
                    "Aku lihat kamu suka [interest]. Aku juga!",
                    "Apa [interest] favorit kamu?",
                    "Bagaimana kamu tertarik dengan [interest]?"
                ],
                meetup: [
                    "Ada rekomendasi kafe yang enak di Jakarta?",
                    "Kamu suka nongkrong dimana biasanya?",
                    "Kapan kita bisa ketemuan?"
                ],
                flirty: [
                    "Kamu punya senyum yang manis 😊",
                    "Kamu orang paling menarik yang aku temui minggu ini",
                    "Aku suka cara kamu memandang dunia"
                ]
            };

            // Progressive information templates based on attractiveness
            const progressiveInfoLevels = [
                { minScore: 6.0, info: "nama lengkap" },
                { minScore: 7.0, info: "akun Instagram" },
                { minScore: 8.0, info: "akun LinkedIn" },
                { minScore: 8.5, info: "nomor WhatsApp" },
                { minScore: 9.0, info: "nomor telepon" }
            ];

            // Banned phrases for auto-moderation (asking for number too early)
            const bannedPhrases = [
                "nomor hp", "no hp", "nomor telpon", "nomormu", "nomor telepon",
                "no wa", "wa kamu", "whatsapp", "line id", "idline", "ig kamu",
                "instagram kamu", "telegram", "instagram?", "whatsapp?", "telepon"
            ];

            // Meetup suggestion templates
            const meetupSuggestions = [
                {
                    title: "Ngopi Santai",
                    places: ["Filosofi Kopi", "Djournal Coffee", "Kopi Kenangan", "Starbucks", "Anomali Coffee"]
                },
                {
                    title: "Nonton Film",
                    places: ["CGV Grand Indonesia", "XXI Plaza Indonesia", "CGV Pacific Place", "XXI Senayan City"]
                },
                {
                    title: "Makan & Ngobrol",
                    places: ["Potato Head", "Sushi Tei", "Pizza e Birra", "Bebek Bengil", "Sate Khas Senayan"]
                },
                {
                    title: "Jalan-jalan Santai",
                    places: ["Taman Menteng", "Plaza Senayan", "Grand Indonesia", "SCBD", "Kota Tua"]
                }
            ];

            // User's own attractiveness score
            const myAttractiveness = 7.8;

            // Points system
            let userPoints = 250;

            // Profile improvement suggestions
            const profileSuggestions = [
                {
                    title: "Tambahkan Foto dengan Aktivitas",
                    icon: "camera",
                    content: "Profil dengan foto aktivitas mendapat 32% lebih banyak matches. Tambahkan foto saat Anda mendaki atau memasak."
                },
                {
                    title: "Lengkapi Deskripsi Profil",
                    icon: "pen",
                    content: "Profil dengan deskripsi lengkap mendapat 50% lebih banyak perhatian. Ceritakan lebih banyak tentang minat dan hobi Anda."
                },
                {
                    title: "Verifikasi KTP",
                    icon: "id-card",
                    content: "Profil terverifikasi mendapat 70% lebih banyak matches dan respons pesan yang lebih cepat."
                },
                {
                    title: "Tingkatkan Penampilan",
                    icon: "dumbbell",
                    content: "Berdasarkan analisis AI, peningkatan kebugaran dan gaya rambut dapat meningkatkan daya tarik Anda sebesar 1.5 poin."
                },
                {
                    title: "Perbaiki Cara Mengobrol",
                    icon: "comment",
                    content: "Analisis percakapan menunjukkan Anda sering menggunakan pertanyaan tertutup. Coba tanyakan hal yang memerlukan jawaban lebih panjang."
                }
            ];

            // Filter state
            let activeFilters = {
                ethnicity: [],
                religion: [],
                nameEthnicity: [],
                status: [],
                bodyType: [],
                job: "",
                minHeight: 145,
                minAttractiveness: 5,
                minIncome: 5,
                minCompleteness: 0,
                birthplace: "",
                neighborhood: "",
                verifiedOnly: false,
                hideTravelMode: false,
                hideFakeProfiles: false
            };

            // Filtered profiles array
            let filteredProfiles = [...profiles];

            // Current profile index
            let currentProfileIndex = 0;
            let currentImageIndex = 0;
            let activeConversationId = null;

            // DOM elements
            const discoverTab = document.getElementById('discover-tab');
            const matchesTab = document.getElementById('matches-tab');
            const messagesTab = document.getElementById('messages-tab');
            const chatView = document.getElementById('chat-view');
            const profileTab = document.getElementById('profile-tab');
            const eventsTab = document.getElementById('events-tab');
            const navItems = document.querySelectorAll('.nav-item');

            const currentProfileImage = document.getElementById('current-profile-image');
            const currentProfileName = document.getElementById('current-profile-name');
            const currentProfileAgeLocation = document.getElementById('current-profile-age-location');
            const currentProfileBio = document.getElementById('current-profile-bio');
            const currentProfileTags = document.getElementById('current-profile-tags');
            const profileCompletenessFill = document.getElementById('profile-completeness-fill');
            const profileCompletenessPercent = document.getElementById('profile-completeness-percent');

            const profileLoading = document.getElementById('profile-loading');
            const profileImageContainer = document.getElementById('current-profile-image-container');
            const noProfilesMessage = document.getElementById('no-profiles-message');
            const attractivenessScore = document.getElementById('attractiveness-score');
            const verifiedBadge = document.getElementById('verified-badge');
            const statusBadge = document.getElementById('status-badge');

            const matchesGrid = document.getElementById('matches-grid');
            const conversationsList = document.getElementById('conversations-list');
            const messagesContainer = document.getElementById('messages-container');
            const messageInput = document.getElementById('message-input');
            const sendMessageBtn = document.getElementById('send-message');
            const backToMessagesBtn = document.getElementById('back-to-messages');
            const chatProfilePic = document.getElementById('chat-profile-pic');
            const chatProfileName = document.getElementById('chat-profile-name');
            const chatVerifiedBadge = document.getElementById('chat-verified-badge');
            const typingIndicator = document.getElementById('typing-indicator');
            const quickRepliesContainer = document.getElementById('quick-replies');

            const likeBtn = document.getElementById('like-btn');
            const dislikeBtn = document.getElementById('dislike-btn');
            const superlikeBtn = document.getElementById('superlike-btn');

            const matchNotification = document.getElementById('match-notification');
            const matchName = document.getElementById('match-name');
            const matchProfileImg = document.getElementById('match-profile-img');
            const sendMatchMessageBtn = document.getElementById('send-message-btn');
            const keepSwipingBtn = document.getElementById('keep-swiping-btn');

            const profileOverlay = document.getElementById('profile-overlay');
            const closeProfileBtn = document.getElementById('close-profile');
            const fullProfileImage = document.getElementById('full-profile-image');
            const fullProfileName = document.getElementById('full-profile-name');
            const fullProfileAgeLocation = document.getElementById('full-profile-age-location');
            const fullProfileBio = document.getElementById('full-profile-bio');
            const fullProfileInterests = document.getElementById('full-profile-interests');
            const fullProfileEthnicity = document.getElementById('full-profile-ethnicity');
            const fullProfileReligion = document.getElementById('full-profile-religion');
            const fullProfileHeight = document.getElementById('full-profile-height');
            const fullProfileNeighborhood = document.getElementById('full-profile-neighborhood');
            const fullProfileBirthplace = document.getElementById('full-profile-birthplace');
            const fullProfileIncome = document.getElementById('full-profile-income');
            const fullProfileExCount = document.getElementById('full-profile-ex-count');
            const fullProfileVerification = document.getElementById('full-profile-verification');
            const fullProfileCompletenessFill = document.getElementById('full-profile-completeness-fill');
            const fullProfileCompletenessText = document.getElementById('full-profile-completeness-text');
            const fullAttractivenessScore = document.getElementById('full-attractiveness-score');
            const fullVerifiedBadge = document.getElementById('full-verified-badge');
            const fullStatusBadge = document.getElementById('full-status-badge');
            const prevImgBtn = document.querySelector('.prev-img');
            const nextImgBtn = document.querySelector('.next-img');
            const profileLikeBtn = document.getElementById('profile-like-btn');
            const profileMessageBtn = document.getElementById('profile-message-btn');

            const filterBtn = document.getElementById('filter-btn');
            const filterOverlay = document.getElementById('filter-overlay');
            const closeFilterBtn = document.getElementById('close-filter-btn');
            const ethnicityFilters = document.getElementById('ethnicity-filters').querySelectorAll('.filter-chip');
            const religionFilters = document.getElementById('religion-filters').querySelectorAll('.filter-chip');
            const nameEthnicityFilters = document.getElementById('name-ethnicity-filters').querySelectorAll('.filter-chip');
            const residenceStatusFilters = document.getElementById('residence-status-filters').querySelectorAll('.filter-chip');
            const bodyTypeFilters = document.getElementById('body-type-filters').querySelectorAll('.filter-chip');
            const heightSlider = document.getElementById('height-slider');
            const heightValue = document.getElementById('height-value');
            const attractivenessSlider = document.getElementById('attractiveness-slider');
            const attractivenessValue = document.getElementById('attractiveness-value');
            const incomeSlider = document.getElementById('income-slider');
            const incomeValue = document.getElementById('income-value');
            const completenessSlider = document.getElementById('completeness-slider');
            const completenessValue = document.getElementById('completeness-value');
            const neighborhoodSelect = document.getElementById('neighborhood-select');
            const birthplaceSelect = document.getElementById('birthplace-select');
            const jobSelect = document.getElementById('job-select');
            const travelModeToggle = document.getElementById('travel-mode-toggle');
            const verifiedToggle = document.getElementById('verified-toggle');
            const fakeFilterToggle = document.getElementById('fake-filter-toggle');
            const applyFiltersBtn = document.getElementById('apply-filters-btn');
            const resetAllFiltersBtn = document.getElementById('reset-all-filters-btn');
            const resetFiltersBtn = document.getElementById('reset-filters-btn');
            const filterCount = document.getElementById('filter-count');
            const activeFiltersBar = document.getElementById('active-filters');

            const eventTabButtons = document.querySelectorAll('[data-event-tab]');
            const eventTabContents = document.querySelectorAll('.event-tab-content');

            const pointsBtn = document.getElementById('points-btn');
            const pointsOverlay = document.getElementById('points-overlay');
            const closePointsBtn = document.getElementById('close-points-btn');
            const pointsCount = document.getElementById('points-count');

            const rateProfileBtn = document.getElementById('rate-profile-btn');
            const ratingOverlay = document.getElementById('rating-overlay');
            const closeRatingBtn = document.getElementById('close-rating-btn');
            const ratingProfilePic = document.getElementById('rating-profile-pic');
            const ratingProfileName = document.getElementById('rating-profile-name');
            const ratingStars = document.querySelectorAll('.rating-star');
            const ratingTags = document.querySelectorAll('.rating-tag');

            const viewAllSuggestionsBtn = document.getElementById('view-all-suggestions-btn');
            const suggestionOverlay = document.getElementById('suggestion-overlay');
            const closeSuggestionBtn = document.getElementById('close-suggestion-btn');

            const warningOverlay = document.getElementById('warning-overlay');
            const closeWarningBtn = document.getElementById('close-warning-btn');

            const superswipeOverlay = document.getElementById('superswipe-overlay');
            const superswipeModal = document.getElementById('superswipe-modal');
            const superswipeProfilePic = document.getElementById('superswipe-profile-pic');
            const superswipeName = document.getElementById('superswipe-name');
            const superswipePointCost = document.getElementById('superswipe-point-cost');
            const cancelSuperswipeBtn = document.getElementById('cancel-superswipe-btn');
            const confirmSuperswipeBtn = document.getElementById('confirm-superswipe-btn');

            // Initialize app
            function init() {
                setupTabs();
                loadProfile();
                renderMatches();
                renderConversations();
                setupEventListeners();
                updatePointsUI();

                // Event listeners - Main actions
                likeBtn.addEventListener('click', handleLike);
                dislikeBtn.addEventListener('click', handleDislike);
                superlikeBtn.addEventListener('click', showSuperswipeConfirmation);

                sendMatchMessageBtn.addEventListener('click', handleMatchMessage);
                keepSwipingBtn.addEventListener('click', hideMatchNotification);

                // Event listeners - Messaging
                sendMessageBtn.addEventListener('click', handleSendMessage);
                messageInput.addEventListener('keypress', function (e) {
                    if (e.key === 'Enter') {
                        handleSendMessage();
                    }
                });

                backToMessagesBtn.addEventListener('click', function () {
                    chatView.classList.remove('active');
                    messagesTab.classList.add('active');
                    activeConversationId = null;
                    updateActiveTabNavigation('messages-tab');
                });

                // Event listeners - Profile details
                closeProfileBtn.addEventListener('click', hideProfileOverlay);
                prevImgBtn.addEventListener('click', showPreviousImage);
                nextImgBtn.addEventListener('click', showNextImage);
                profileLikeBtn.addEventListener('click', function () {
                    hideProfileOverlay();
                    handleLike();
                });
                profileMessageBtn.addEventListener('click', function () {
                    hideProfileOverlay();
                    // Find conversation by current profile ID
                    const profileId = filteredProfiles[currentProfileIndex].id;
                    const conversation = conversations.find(c => c.userId === profileId);
                    if (conversation) {
                        openConversation(conversation.id);
                    } else {
                        // Create new conversation
                        const newConversation = {
                            id: 200 + conversations.length + 1,
                            userId: profileId,
                            name: filteredProfiles[currentProfileIndex].name.split(' ')[0],
                            image: filteredProfiles[currentProfileIndex].images[0],
                            lastMessage: "Mulai percakapan...",
                            time: "Baru saja",
                            unread: false,
                            attractiveness: filteredProfiles[currentProfileIndex].attractiveness,
                            messageCount: 0,
                            matchDate: new Date().toISOString().slice(0, 10),
                            verified: filteredProfiles[currentProfileIndex].verified
                        };
                        conversations.push(newConversation);
                        messages[newConversation.userId] = [];
                        renderConversations();
                        openConversation(newConversation.id);
                    }
                });

                resetFiltersBtn.addEventListener('click', resetFilters);

                // Event listeners - Superswipe
                cancelSuperswipeBtn.addEventListener('click', hideSuperswipeConfirmation);
                confirmSuperswipeBtn.addEventListener('click', handleSuperlike);

                // Add click event to the current profile card
                currentProfileImage.addEventListener('click', showProfileOverlay);

                // Set attractiveness slider value listener
                attractivenessSlider.addEventListener('input', function () {
                    attractivenessValue.textContent = this.value;
                });

                // Set income slider value listener
                incomeSlider.addEventListener('input', function () {
                    incomeValue.textContent = this.value;
                });

                // Set completeness slider value listener
                completenessSlider.addEventListener('input', function () {
                    completenessValue.textContent = this.value;
                });

                // Setup event tab navigation
                eventTabButtons.forEach(button => {
                    button.addEventListener('click', function () {
                        const tabId = this.getAttribute('data-event-tab');
                        showEventTab(tabId);
                    });
                });

                // Set points listener
                pointsBtn.addEventListener('click', function () {
                    pointsOverlay.style.display = 'flex';
                });

                closePointsBtn.addEventListener('click', function () {
                    pointsOverlay.style.display = 'none';
                });
            }

            // Tab navigation
            function setupTabs() {
                navItems.forEach(item => {
                    item.addEventListener('click', function () {
                        const tabId = this.getAttribute('data-tab');
                        showTab(tabId);
                    });
                });
            }

            function showTab(tabId) {
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.getElementById(tabId).classList.add('active');
                updateActiveTabNavigation(tabId);
            }

            function updateActiveTabNavigation(tabId) {
                navItems.forEach(item => {
                    if (item.getAttribute('data-tab') === tabId) {
                        item.classList.add('active');
                    } else {
                        item.classList.remove('active');
                    }
                });
            }

            function showEventTab(tabId) {
                // Hide all event tabs
                eventTabContents.forEach(tab => {
                    tab.style.display = 'none';
                });

                // Show the selected tab
                document.getElementById(tabId).style.display = 'block';

                // Update active button state
                eventTabButtons.forEach(button => {
                    if (button.getAttribute('data-event-tab') === tabId) {
                        button.classList.add('active');
                    } else {
                        button.classList.remove('active');
                    }
                });
            }

            function setupEventListeners() {
                // Filter overlay toggle
                filterBtn.addEventListener('click', function () {
                    filterOverlay.style.display = 'flex';
                });

                closeFilterBtn.addEventListener('click', function () {
                    filterOverlay.style.display = 'none';
                });

                // Rating overlay
                rateProfileBtn.addEventListener('click', showRatingOverlay);
                closeRatingBtn.addEventListener('click', hideRatingOverlay);

                // Suggestion overlay
                viewAllSuggestionsBtn.addEventListener('click', showSuggestionOverlay);
                closeSuggestionBtn.addEventListener('click', hideSuggestionOverlay);

                // Warning overlay
                closeWarningBtn.addEventListener('click', hideWarningOverlay);

                // Set rating UI listeners
                ratingStars.forEach(star => {
                    star.addEventListener('click', function () {
                        const rating = parseInt(this.getAttribute('data-rating'));
                        setRating(rating);
                    });

                    star.addEventListener('mouseover', function () {
                        const rating = parseInt(this.getAttribute('data-rating'));
                        highlightStars(rating);
                    });

                    star.addEventListener('mouseout', function () {
                        resetStarHighlights();
                    });
                });

                ratingTags.forEach(tag => {
                    tag.addEventListener('click', function () {
                        this.classList.toggle('active');
                    });
                });

                // Filter setup
                ethnicityFilters.forEach(chip => {
                    chip.addEventListener('click', function () {
                        this.classList.toggle('active');
                    });
                });

                // Religion filter chips
                religionFilters.forEach(chip => {
                    chip.addEventListener('click', function () {
                        this.classList.toggle('active');
                    });
                });

                // Name ethnicity filter chips
                nameEthnicityFilters.forEach(chip => {
                    chip.addEventListener('click', function () {
                        this.classList.toggle('active');
                    });
                });

                // Residence status filter chips
                residenceStatusFilters.forEach(chip => {
                    chip.addEventListener('click', function () {
                        this.classList.toggle('active');
                    });
                });

                // Body type filter chips
                bodyTypeFilters.forEach(chip => {
                    chip.addEventListener('click', function () {
                        this.classList.toggle('active');
                    });
                });

                // Apply filters
                applyFiltersBtn.addEventListener('click', function () {
                    applyFilters();
                    filterOverlay.style.display = 'none';
                });

                // Reset all filters
                resetAllFiltersBtn.addEventListener('click', resetFilters);
            }

            // Profile functions
            function loadProfile() {
                if (filteredProfiles.length === 0) {
                    // No profiles match filters
                    profileLoading.style.display = 'none';
                    profileImageContainer.style.display = 'none';
                    noProfilesMessage.style.display = 'block';
                    return;
                }

                if (currentProfileIndex >= filteredProfiles.length) {
                    currentProfileIndex = 0; // Loop back to first profile
                }

                const profile = filteredProfiles[currentProfileIndex];

                // Hide no profiles message
                noProfilesMessage.style.display = 'none';

                // Show loading state
                profileLoading.style.display = 'flex';
                profileImageContainer.style.display = 'none';
                currentProfileImage.src = '';

                // Simulate loading
                setTimeout(() => {
                    currentProfileImage.src = profile.images[0];
                    currentProfileName.textContent = profile.name.split(' ')[0];
                    currentProfileAgeLocation.textContent = `${profile.age} • ${profile.location}`;
                    currentProfileBio.textContent = profile.bio;
                    attractivenessScore.textContent = profile.attractiveness.toFixed(1);

                    // Set profile completeness indicator
                    profileCompletenessFill.style.width = `${profile.profileCompleteness}%`;
                    profileCompletenessPercent.textContent = `${profile.profileCompleteness}%`;

                    // Set completeness fill color class based on percentage
                    const completenessClass = getCompletenessColorClass(profile.profileCompleteness);
                    profileCompletenessFill.className = `completeness-bar-fill ${completenessClass}`;

                    // Set verification badge
                    if (profile.verified) {
                        verifiedBadge.style.display = 'flex';
                    } else {
                        verifiedBadge.style.display = 'none';
                    }

                    // Set status badge
                    if (profile.status !== "citizen") {
                        const statusText = profile.status === "expat" ? "Ekspat" : "Turis";
                        const statusClass = profile.status === "expat" ? "expat" : "tourist";
                        statusBadge.innerHTML = `<i class="fas fa-globe-asia mr-1"></i> ${statusText}`;
                        statusBadge.className = `status-badge ${statusClass} ml-2`;
                        statusBadge.style.display = 'inline-flex';
                    } else if (profile.travelMode) {
                        statusBadge.innerHTML = `<i class="fas fa-plane mr-1"></i> Travel Mode`;
                        statusBadge.className = "status-badge travel ml-2";
                        statusBadge.style.display = 'inline-flex';
                    } else {
                        statusBadge.style.display = 'none';
                    }

                    // Add profile tags
                    currentProfileTags.innerHTML = '';
                    if (profile.job) {
                        const jobTag = document.createElement('span');
                        jobTag.className = 'preference-tag';
                        jobTag.innerHTML = `<i class="fas fa-briefcase mr-1"></i> ${profile.jobTitle}`;
                        currentProfileTags.appendChild(jobTag);
                    }

                    if (profile.income) {
                        const incomeTag = document.createElement('span');
                        incomeTag.className = 'preference-tag';
                        incomeTag.innerHTML = `<i class="fas fa-money-bill-wave mr-1"></i> ${profile.income} jt/bulan`;
                        currentProfileTags.appendChild(incomeTag);
                    }

                    currentImageIndex = 0;

                    // Hide loading when image is loaded
                    currentProfileImage.onload = function () {
                        profileLoading.style.display = 'none';
                        profileImageContainer.style.display = 'block';
                    };
                }, 1000);
            }

            function getCompletenessColorClass(percentage) {
                if (percentage < 30) return "level-3";
                if (percentage < 50) return "level-4";
                if (percentage < 70) return "level-6";
                if (percentage < 90) return "level-8";
                return "level-10";
            }

            function nextProfile() {
                // Check if we have points for swiping
                if (userPoints <= 0) {
                    pointsOverlay.style.display = 'flex';
                    return;
                }

                // Deduct points for a standard swipe
                userPoints -= 1;
                updatePointsUI();

                currentProfileIndex++;
                loadProfile();
            }

            function updatePointsUI() {
                pointsCount.textContent = userPoints;
            }

            function handleLike() {
                if (filteredProfiles.length === 0) return;

                // Check if we have points for swiping
                if (userPoints <= 0) {
                    pointsOverlay.style.display = 'flex';
                    return;
                }

                // Higher chance of match based on user's attractiveness relative to profile's
                const profile = filteredProfiles[currentProfileIndex];
                const attractivenessDiff = myAttractiveness - profile.attractiveness;
                let matchChance;

                if (attractivenessDiff >= 2) {
                    matchChance = 0.8; // Very likely match if user is much more attractive
                } else if (attractivenessDiff >= 0) {
                    matchChance = 0.5; // Good chance if user is more attractive
                } else if (attractivenessDiff >= -2) {
                    matchChance = 0.3; // Less chance if user is somewhat less attractive
                } else {
                    matchChance = 0.1; // Very low chance if user is much less attractive
                }

                const isMatch = Math.random() < matchChance;

                if (isMatch) {
                    showMatchNotification();
                } else {
                    nextProfile();
                }
            }

            function handleDislike() {
                if (filteredProfiles.length === 0) return;

                // Check if we have points for swiping
                if (userPoints <= 0) {
                    pointsOverlay.style.display = 'flex';
                    return;
                }

                nextProfile();
            }

            function showSuperswipeConfirmation() {
                if (filteredProfiles.length === 0) return;

                const profile = filteredProfiles[currentProfileIndex];

                // Calculate superswipe cost based on attractiveness
                // More attractive profiles cost more points to superlike
                let cost = calculateSuperlikeCost(profile.attractiveness);

                if (userPoints < cost) {
                    pointsOverlay.style.display = 'flex';
                    return;
                }

                // Set superswipe modal content
                superswipeProfilePic.src = profile.images[0];
                superswipeName.textContent = profile.name;
                superswipePointCost.textContent = cost;

                // Show confirmation modal
                superswipeOverlay.style.display = 'block';
                superswipeModal.style.display = 'block';
            }

            function hideSuperswipeConfirmation() {
                superswipeOverlay.style.display = 'none';
                superswipeModal.style.display = 'none';
            }

            function calculateSuperlikeCost(attractiveness) {
                // Scale from 3 points (for 5.0 attractiveness) to 15 points (for 10.0 attractiveness)
                return Math.max(3, Math.round((attractiveness - 5) * 2.4) + 3);
            }

            function handleSuperlike() {
                if (filteredProfiles.length === 0) return;

                const profile = filteredProfiles[currentProfileIndex];
                let cost = calculateSuperlikeCost(profile.attractiveness);

                // Check if we have enough points
                if (userPoints < cost) {
                    hideSuperswipeConfirmation();
                    pointsOverlay.style.display = 'flex';
                    return;
                }

                // Deduct points
                userPoints -= cost;
                updatePointsUI();

                // Higher chance of match for superlike
                const attractivenessDiff = myAttractiveness - profile.attractiveness;
                let matchChance;

                if (attractivenessDiff >= 2) {
                    matchChance = 0.95; // Almost certain match if user is much more attractive
                } else if (attractivenessDiff >= 0) {
                    matchChance = 0.8; // Very likely if user is more attractive
                } else if (attractivenessDiff >= -2) {
                    matchChance = 0.6; // Decent chance even if user is somewhat less attractive
                } else {
                    matchChance = 0.3; // Better chance for superlike even with big difference
                }

                const isMatch = Math.random() < matchChance;

                // Hide confirmation modal
                hideSuperswipeConfirmation();

                if (isMatch) {
                    showMatchNotification();
                } else {
                    nextProfile();
                }
            }

            // Match notification
            function showMatchNotification() {
                const profile = filteredProfiles[currentProfileIndex];
                matchName.textContent = profile.name.split(' ')[0];
                matchProfileImg.src = profile.images[0];
                matchNotification.style.display = 'flex';
            }

            function hideMatchNotification() {
                matchNotification.style.display = 'none';
                nextProfile();
            }

            function handleMatchMessage() {
                // Add to matches if not already there
                const profile = filteredProfiles[currentProfileIndex];
                const existingMatch = matches.find(m => m.id === profile.id);

                if (!existingMatch) {
                    const newMatch = {
                        id: profile.id,
                        name: profile.name.split(' ')[0],
                        image: profile.images[0],
                        lastSeen: "Baru saja",
                        attractiveness: profile.attractiveness,
                        verified: profile.verified
                    };
                    matches.push(newMatch);
                    renderMatches();
                }

                // Add to conversations if not already there
                const existingConvo = conversations.find(c => c.userId === profile.id);
                let convoId;

                if (!existingConvo) {
                    const newConvo = {
                        id: 200 + conversations.length + 1,
                        userId: profile.id,
                        name: profile.name.split(' ')[0],
                        image: profile.images[0],
                        lastMessage: "Kamu match dengan " + profile.name.split(' ')[0],
                        time: "Baru saja",
                        unread: false,
                        attractiveness: profile.attractiveness,
                        messageCount: 0,
                        matchDate: new Date().toISOString().slice(0, 10),
                        verified: profile.verified
                    };
                    conversations.push(newConvo);
                    messages[profile.id] = [
                        {
                            id: 1,
                            senderId: "system",
                            text: "Kamu match dengan " + profile.name.split(' ')[0] + "! AI akan membantu pertukaran informasi secara bertahap.",
                            time: "Baru saja",
                            sent: false
                        }
                    ];
                    convoId = newConvo.id;
                } else {
                    convoId = existingConvo.id;
                }

                renderConversations();
                hideMatchNotification();

                // Open conversation
                openConversation(convoId);

                // Switch to messages tab
                showTab('chat-view');
            }

            // Matches tab
            function renderMatches() {
                matchesGrid.innerHTML = '';

                matches.forEach(match => {
                    const matchCard = document.createElement('div');
                    matchCard.className = 'card relative cursor-pointer';

                    let verifiedBadgeHTML = match.verified ?
                        `<div class="verify-badge" style="background-color: var(--success-color);"><i class="fas fa-check"></i></div>` : '';

                    matchCard.innerHTML = `
<img src="${match.image}" alt="${match.name}" class="w-full aspect-square object-cover rounded-t-lg">
<div class="attractiveness-badge">
<i class="fas fa-star star-icon"></i>
<span>${match.attractiveness.toFixed(1)}</span>
</div>
${verifiedBadgeHTML}
<div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-3 rounded-b-lg">
<h3 class="text-white font-semibold">${match.name}</h3>
<p class="text-white/80 text-xs">${match.lastSeen}</p>
</div>
`;

                    matchCard.addEventListener('click', () => {
                        // Find conversation by match ID or create new one
                        const existingConvo = conversations.find(c => c.userId === match.id);
                        let convoId;

                        if (!existingConvo) {
                            const newConvo = {
                                id: 200 + conversations.length + 1,
                                userId: match.id,
                                name: match.name,
                                image: match.image,
                                lastMessage: "Mulai percakapan...",
                                time: "Baru saja",
                                unread: false,
                                attractiveness: match.attractiveness,
                                messageCount: 0,
                                matchDate: new Date().toISOString().slice(0, 10),
                                verified: match.verified
                            };
                            conversations.push(newConvo);
                            messages[match.id] = [];
                            renderConversations();
                            convoId = newConvo.id;
                        } else {
                            convoId = existingConvo.id;
                        }

                        openConversation(convoId);
                    });

                    matchesGrid.appendChild(matchCard);
                });
            }

            // Messages tab
            function renderConversations() {
                conversationsList.innerHTML = '';

                conversations.forEach(convo => {
                    const convoItem = document.createElement('div');
                    convoItem.className = `flex items-center gap-3 p-3 rounded-lg cursor-pointer ${convo.unread ? 'bg-primary-color/10' : 'hover:bg-gray-100 dark:hover:bg-gray-800'}`;

                    let verifiedBadgeHTML = convo.verified ?
                        `<div class="verify-badge ml-1" style="background-color: var(--success-color); width: 14px; height: 14px; font-size: 8px;"><i class="fas fa-check"></i></div>` : '';

                    convoItem.innerHTML = `
<img src="${convo.image}" alt="${convo.name}" class="w-12 h-12 rounded-full object-cover">
<div class="flex-1">
<div class="flex items-center">
<h3 class="font-semibold">${convo.name}</h3>
${verifiedBadgeHTML}
<span class="text-xs ml-auto opacity-70">${convo.time}</span>
</div>
<p class="text-sm truncate ${convo.unread ? 'font-semibold' : 'opacity-70'}">${convo.lastMessage}</p>
</div>
${convo.unread ? '<div class="w-3 h-3 bg-primary-color rounded-full"></div>' : ''}
`;

                    convoItem.addEventListener('click', () => {
                        openConversation(convo.id);
                    });

                    conversationsList.appendChild(convoItem);
                });
            }

            function openConversation(conversationId) {
                const conversation = conversations.find(c => c.id === conversationId);
                if (!conversation) return;

                // Mark as read
                conversation.unread = false;
                renderConversations();

                // Set active conversation
                activeConversationId = conversationId;

                // Update chat header
                chatProfilePic.src = conversation.image;
                chatProfileName.textContent = conversation.name;

                // Set verification badge
                if (conversation.verified) {
                    chatVerifiedBadge.style.display = 'flex';
                } else {
                    chatVerifiedBadge.style.display = 'none';
                }

                // Set rating button
                rateProfileBtn.style.display = conversation.messageCount >= 10 ? 'block' : 'none';

                // Render messages
                renderMessages(conversation.userId);

                // Generate quick replies based on the conversation partner
                generateQuickReplies(conversation);

                // Show chat view
                messagesTab.classList.remove('active');
                chatView.classList.add('active');
                updateActiveTabNavigation('messages-tab');

                // Focus on input
                messageInput.focus();

                // Check if meetup suggestion should be shown
                checkMeetupSuggestion(conversation);
            }

            function checkMeetupSuggestion(conversation) {
                // Check if we have enough messages and don't have a meetup suggestion yet
                if (conversation.messageCount >= 15 && !messages[conversation.userId].some(m => m.isMeetupSuggestion)) {
                    // 70% chance to show meetup suggestion
                    if (Math.random() < 0.7) {
                        // Add meetup suggestion
                        setTimeout(() => {
                            showTypingIndicator();

                            setTimeout(() => {
                                hideTypingIndicator();

                                // Random meetup suggestion
                                const suggestion = meetupSuggestions[Math.floor(Math.random() * meetupSuggestions.length)];
                                const place = suggestion.places[Math.floor(Math.random() * suggestion.places.length)];

                                const meetupMsg = {
                                    id: Date.now(),
                                    senderId: "system",
                                    isMeetupSuggestion: true,
                                    text: `
<div class="meetup-suggestion">
<div class="meetup-title">Saran Pertemuan: ${suggestion.title}</div>
<p>Anda telah bertukar ${conversation.messageCount} pesan. Ini mungkin saat yang tepat untuk bertemu langsung.</p>
<div class="meetup-place">Lokasi: ${place}</div>
<div class="meetup-actions">
<button class="primary-btn py-1 px-3 rounded-lg text-sm" onclick="document.getElementById('message-input').value='Boleh, aku tertarik untuk bertemu di ${place}. Kapan kamu ada waktu?'; document.getElementById('send-message').click();">Setuju</button>
<button class="secondary-btn py-1 px-3 rounded-lg text-sm" onclick="document.getElementById('message-input').value='Sepertinya menarik, tapi aku masih ingin ngobrol lebih banyak dulu.'; document.getElementById('send-message').click();">Nanti Saja</button>
</div>
</div>
`,
                                    time: formatMessageTime(new Date()),
                                    sent: false
                                };

                                messages[conversation.userId].push(meetupMsg);
                                renderMessages(conversation.userId);
                            }, 1500);
                        }, 2000);
                    }
                }
            }

            function renderMessages(userId) {
                messagesContainer.innerHTML = '';
                const userMessages = messages[userId] || [];

                userMessages.forEach(msg => {
                    const messageEl = document.createElement('div');

                    if (msg.senderId === "system") {
                        if (msg.isMeetupSuggestion) {
                            messageEl.className = 'my-6';
                            messageEl.innerHTML = msg.text;
                        } else {
                            messageEl.className = 'flex justify-center my-6';
                            messageEl.innerHTML = `
<div class="bg-gray-100 dark:bg-gray-800 rounded-full px-4 py-2 text-sm text-center">
${msg.text}
</div>
`;
                        }
                    } else if (msg.isInfoReveal) {
                        // Special message for information reveal
                        messageEl.className = 'flex justify-center my-4';
                        const canView = myAttractiveness >= parseFloat(msg.content.match(/minimum (\d+\.\d+)/)[1]);
                        messageEl.innerHTML = `
<div class="info-reveal w-full">
<div class="info-reveal-title">${msg.title}</div>
<div class="info-reveal-content">
${canView ?
                                `${msg.content.split('.')[0]}. <strong>Skor daya tarik Anda (${myAttractiveness.toFixed(1)}) cukup tinggi untuk melihatnya!</strong>` :
                                `${msg.content} Skor daya tarik Anda saat ini: ${myAttractiveness.toFixed(1)}`}
</div>
</div>
`;
                    } else {
                        const isCurrentUser = msg.senderId === "me" || msg.sent;
                        messageEl.className = `flex ${isCurrentUser ? 'justify-end' : 'justify-start'}`;
                        messageEl.innerHTML = `
<div class="message-bubble ${isCurrentUser ? 'sent' : 'received'}">
${msg.text}
<div class="message-time">${msg.time}</div>
</div>
`;
                    }

                    messagesContainer.appendChild(messageEl);
                });

                // Scroll to bottom
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            function handleSendMessage() {
                const text = messageInput.value.trim();
                if (!text || !activeConversationId) return;

                const conversation = conversations.find(c => c.id === activeConversationId);
                if (!conversation) return;

                // Check for banned phrases
                if (checkBannedPhrases(text) && conversation.messageCount < 15) {
                    showWarningOverlay();
                    return;
                }

                // Add message to conversation
                const newMessage = {
                    id: Date.now(),
                    senderId: "me",
                    text: text,
                    time: formatMessageTime(new Date()),
                    sent: true
                };

                if (!messages[conversation.userId]) {
                    messages[conversation.userId] = [];
                }

                messages[conversation.userId].push(newMessage);

                // Update conversation stats
                conversation.lastMessage = text;
                conversation.time = "Baru saja";
                conversation.messageCount = (conversation.messageCount || 0) + 1;

                // Clear input
                messageInput.value = '';

                // Render messages
                renderMessages(conversation.userId);
                renderConversations();

                // Show typing indicator
                showTypingIndicator();

                // Simulate response after delay
                setTimeout(() => simulateResponse(conversation), 1500 + Math.random() * 2000);
            }

            function checkBannedPhrases(text) {
                const lowerText = text.toLowerCase();
                return bannedPhrases.some(phrase => lowerText.includes(phrase));
            }

            function handleQuickReply(text) {
                if (!activeConversationId) return;

                messageInput.value = text;
                handleSendMessage();
            }

            function showTypingIndicator() {
                typingIndicator.style.display = 'block';
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            function hideTypingIndicator() {
                typingIndicator.style.display = 'none';
            }

            function simulateResponse(conversation) {
                if (!activeConversationId) return;

                hideTypingIndicator();

                // Random responses for demo
                const responses = [
                    "Wah keren!",
                    "Hahaha, bisa aja kamu!",
                    "Aku belum pernah kepikiran seperti itu sebelumnya.",
                    "Boleh banget, aku minat!",
                    "Ceritain lebih banyak dong.",
                    "Menarik banget! Aku juga lagi mikirin hal yang mirip.",
                    "Aku pernah ngalamin hal serupa...",
                    "Gimana kalau kita coba itu weekend ini?",
                    "Aku setuju banget sama kamu!"
                ];

                const responseText = responses[Math.floor(Math.random() * responses.length)];

                // Add response to conversation
                const newResponse = {
                    id: Date.now(),
                    senderId: conversation.userId,
                    text: responseText,
                    time: formatMessageTime(new Date()),
                    sent: false
                };

                messages[conversation.userId].push(newResponse);

                // Update conversation stats
                conversation.lastMessage = responseText;
                conversation.time = "Baru saja";
                conversation.messageCount = (conversation.messageCount || 0) + 1;

                // Determine if should reveal information based on message count and attractiveness
                const msgCount = messages[conversation.userId].filter(m => m.senderId !== "system" && !m.isInfoReveal && !m.isMeetupSuggestion).length;

                if (msgCount > 0 && msgCount % 5 === 0 && Math.random() < 0.7) {
                    // Reveal some information based on the number of messages exchanged
                    const infoToReveal = determineInfoToReveal(conversation.attractiveness);

                    if (infoToReveal) {
                        setTimeout(() => {
                            const infoRevealMsg = {
                                id: Date.now(),
                                senderId: conversation.userId,
                                time: formatMessageTime(new Date()),
                                sent: false,
                                isInfoReveal: true,
                                title: "Informasi Baru Terungkap",
                                content: `${conversation.name} telah membagikan ${infoToReveal.info}-nya. Butuh daya tarik minimum ${infoToReveal.minScore} untuk melihatnya.`
                            };

                            messages[conversation.userId].push(infoRevealMsg);
                            renderMessages(conversation.userId);
                        }, 1500);
                    }
                }

                // Render messages
                renderMessages(conversation.userId);
                renderConversations();
            }

            function determineInfoToReveal(profileAttractiveness) {
                // Get all info levels that haven't been revealed yet for this profile
                const messagesToCheck = messages[activeConversationId] || [];
                const alreadyRevealed = messagesToCheck
                    .filter(m => m.isInfoReveal)
                    .map(m => {
                        const match = m.content.match(/membagikan (\S+)/);
                        return match ? match[1] : null;
                    })
                    .filter(Boolean);

                const availableInfoLevels = progressiveInfoLevels.filter(level =>
                    !alreadyRevealed.includes(level.info)
                );

                if (availableInfoLevels.length === 0) return null;

                // Select a random info level from available ones
                return availableInfoLevels[Math.floor(Math.random() * availableInfoLevels.length)];
            }

            function formatMessageTime(date) {
                const hours = date.getHours();
                const minutes = date.getMinutes();
                const ampm = hours >= 12 ? 'PM' : 'AM';
                const formattedHours = hours % 12 || 12;
                const formattedMinutes = minutes < 10 ? '0' + minutes : minutes;

                return `${formattedHours}:${formattedMinutes} ${ampm}`;
            }

            // Quick replies generation
            function generateQuickReplies(conversation) {
                quickRepliesContainer.innerHTML = '';

                const profile = profiles.find(p => p.id === conversation.userId);
                if (!profile) return;

                // Generate 3-4 quick replies
                const replies = [];

                // Add greeting if this is a new conversation
                const msgCount = (messages[conversation.userId] || []).filter(m => m.senderId !== "system" && !m.isInfoReveal && !m.isMeetupSuggestion).length;
                if (msgCount < 2) {
                    replies.push(quickReplyTemplates.greeting[Math.floor(Math.random() * quickReplyTemplates.greeting.length)]);
                }

                // Add interest-based replies
                if (profile.interests && profile.interests.length > 0) {
                    const interest = profile.interests[Math.floor(Math.random() * profile.interests.length)];
                    const interestTemplate = quickReplyTemplates.interests[Math.floor(Math.random() * quickReplyTemplates.interests.length)];
                    replies.push(interestTemplate.replace('[interest]', interest.toLowerCase()));
                }

                // Add meetup suggestion if conversation has progressed
                if (msgCount > 4) {
                    replies.push(quickReplyTemplates.meetup[Math.floor(Math.random() * quickReplyTemplates.meetup.length)]);
                }

                // Add flirty message if attractiveness is high enough
                if (profile.attractiveness > 8.0 && msgCount > 2) {
                    replies.push(quickReplyTemplates.flirty[Math.floor(Math.random() * quickReplyTemplates.flirty.length)]);
                }

                // Create quick reply buttons
                replies.slice(0, 4).forEach(replyText => {
                    const replyBtn = document.createElement('div');
                    replyBtn.className = 'quick-reply';
                    replyBtn.textContent = replyText;
                    replyBtn.addEventListener('click', () => handleQuickReply(replyText));
                    quickRepliesContainer.appendChild(replyBtn);
                });
            }

            // Profile overlay
            function showProfileOverlay() {
                if (filteredProfiles.length === 0) return;

                const profile = filteredProfiles[currentProfileIndex];

                fullProfileImage.src = profile.images[currentImageIndex];
                fullProfileName.textContent = profile.name;
                fullProfileAgeLocation.textContent = `${profile.age} • ${profile.location}`;
                fullProfileBio.textContent = profile.bio;
                fullAttractivenessScore.textContent = profile.attractiveness.toFixed(1);

                // Format profile details
                fullProfileEthnicity.textContent = capitalizeFirstLetter(profile.ethnicity);
                fullProfileReligion.textContent = capitalizeFirstLetter(profile.religion);
                fullProfileHeight.textContent = `${profile.height} cm`;
                fullProfileNeighborhood.textContent = capitalizeFirstLetter(profile.neighborhood);
                fullProfileBirthplace.textContent = profile.birthplace;
                fullProfileIncome.textContent = `${profile.income} juta/bulan`;
                fullProfileExCount.textContent = `${profile.exCount} orang`;

                // Set profile completeness
                fullProfileCompletenessFill.style.width = `${profile.profileCompleteness}%`;
                fullProfileCompletenessText.textContent = `Profil ${profile.profileCompleteness}% lengkap`;

                // Set completeness fill color
                const completenessClass = getCompletenessColorClass(profile.profileCompleteness);
                fullProfileCompletenessFill.className = `completeness-bar-fill ${completenessClass}`;

                // Set verification badges
                fullProfileVerification.innerHTML = '';
                if (profile.verifications && profile.verifications.length > 0) {
                    profile.verifications.forEach(v => {
                        let icon, text;
                        switch (v) {
                            case 'id':
                                icon = 'id-card';
                                text = 'KTP Terverifikasi';
                                break;
                            case 'face':
                                icon = 'user-check';
                                text = 'Wajah Terverifikasi';
                                break;
                            case 'education':
                                icon = 'graduation-cap';
                                text = 'Pendidikan Terverifikasi';
                                break;
                            case 'linkedin':
                                icon = 'linkedin';
                                text = 'LinkedIn Terverifikasi';
                                break;
                            case 'instagram':
                                icon = 'instagram';
                                text = 'Instagram Terverifikasi';
                                break;
                            case 'passport':
                                icon = 'passport';
                                text = 'Paspor Terverifikasi';
                                break;
                            case 'employment':
                                icon = 'briefcase';
                                text = 'Pekerjaan Terverifikasi';
                                break;
                            default:
                                icon = 'check-circle';
                                text = 'Terverifikasi';
                        }

                        const indicator = document.createElement('div');
                        indicator.className = 'verification-indicator';
                        indicator.innerHTML = `<i class="fas fa-${icon}"></i><span>${text}</span>`;
                        fullProfileVerification.appendChild(indicator);
                    });
                } else {
                    const indicator = document.createElement('div');
                    indicator.className = 'verification-indicator';
                    indicator.innerHTML = `<i class="fas fa-times-circle"></i><span>Belum Terverifikasi</span>`;
                    indicator.style.backgroundColor = 'rgba(231, 76, 60, 0.1)';
                    indicator.style.color = '#e74c3c';
                    fullProfileVerification.appendChild(indicator);
                }

                // Set verified badge
                if (profile.verified) {
                    fullVerifiedBadge.style.display = 'flex';
                } else {
                    fullVerifiedBadge.style.display = 'none';
                }

                // Set status badge
                if (profile.status !== "citizen") {
                    const statusText = profile.status === "expat" ? "Ekspat" : "Turis";
                    const statusClass = profile.status === "expat" ? "expat" : "tourist";
                    fullStatusBadge.innerHTML = `<i class="fas fa-globe-asia mr-1"></i> ${statusText}`;
                    fullStatusBadge.className = `status-badge ${statusClass} ml-2`;
                    fullStatusBadge.style.display = 'inline-flex';
                } else if (profile.travelMode) {
                    fullStatusBadge.innerHTML = `<i class="fas fa-plane mr-1"></i> Travel Mode`;
                    fullStatusBadge.className = "status-badge travel ml-2";
                    fullStatusBadge.style.display = 'inline-flex';
                } else {
                    fullStatusBadge.style.display = 'none';
                }

                // Render interests
                fullProfileInterests.innerHTML = '';
                profile.interests.forEach(interest => {
                    const tag = document.createElement('span');
                    tag.className = 'preference-tag';
                    tag.textContent = interest;
                    fullProfileInterests.appendChild(tag);
                });

                profileOverlay.style.display = 'flex';
            }

            function hideProfileOverlay() {
                profileOverlay.style.display = 'none';
            }

            function showPreviousImage() {
                if (filteredProfiles.length === 0) return;

                const profile = filteredProfiles[currentProfileIndex];
                currentImageIndex = (currentImageIndex - 1 + profile.images.length) % profile.images.length;
                fullProfileImage.src = profile.images[currentImageIndex];
            }

            function showNextImage() {
                if (filteredProfiles.length === 0) return;

                const profile = filteredProfiles[currentProfileIndex];
                currentImageIndex = (currentImageIndex + 1) % profile.images.length;
                fullProfileImage.src = profile.images[currentImageIndex];
            }

            // Filter functionality
            function applyFilters() {
                // Get selected ethnicities
                activeFilters.ethnicity = [];
                document.querySelectorAll('#ethnicity-filters .filter-chip.active').forEach(chip => {
                    activeFilters.ethnicity.push(chip.getAttribute('data-value'));
                });

                // Get selected religions
                activeFilters.religion = [];
                document.querySelectorAll('#religion-filters .filter-chip.active').forEach(chip => {
                    activeFilters.religion.push(chip.getAttribute('data-value'));
                });

                // Get selected name ethnicities
                activeFilters.nameEthnicity = [];
                document.querySelectorAll('#name-ethnicity-filters .filter-chip.active').forEach(chip => {
                    activeFilters.nameEthnicity.push(chip.getAttribute('data-value'));
                });

                // Get selected statuses
                activeFilters.status = [];
                document.querySelectorAll('#residence-status-filters .filter-chip.active').forEach(chip => {
                    activeFilters.status.push(chip.getAttribute('data-value'));
                });

                // Get selected body types
                activeFilters.bodyType = [];
                document.querySelectorAll('#body-type-filters .filter-chip.active').forEach(chip => {
                    activeFilters.bodyType.push(chip.getAttribute('data-value'));
                });

                // Get min height
                activeFilters.minHeight = parseInt(heightSlider.value);

                // Get min attractiveness
                activeFilters.minAttractiveness = parseInt(attractivenessSlider.value);

                // Get min income
                activeFilters.minIncome = parseInt(incomeSlider.value);

                // Get min profile completeness
                activeFilters.minCompleteness = parseInt(completenessSlider.value);

                // Get job
                activeFilters.job = jobSelect.value;

                // Get birthplace
                activeFilters.birthplace = birthplaceSelect.value;

                // Get neighborhood
                activeFilters.neighborhood = neighborhoodSelect.value;

                // Get toggle states
                activeFilters.hideTravelMode = travelModeToggle.checked;
                activeFilters.verifiedOnly = verifiedToggle.checked;
                activeFilters.hideFakeProfiles = fakeFilterToggle.checked;

                // Apply filters to profiles
                filterProfiles();

                // Update UI
                updateFilterUI();

                // Reset profile index and load first matching profile
                currentProfileIndex = 0;
                loadProfile();
            }

            function filterProfiles() {
                filteredProfiles = profiles.filter(profile => {
                    // Check ethnicity
                    if (activeFilters.ethnicity.length > 0 && !activeFilters.ethnicity.includes(profile.ethnicity)) {
                        return false;
                    }

                    // Check religion
                    if (activeFilters.religion.length > 0 && !activeFilters.religion.includes(profile.religion)) {
                        return false;
                    }

                    // Check name ethnicity
                    if (activeFilters.nameEthnicity.length > 0) {
                        // For demo purposes, we'll check if the ethnicity appears in the name ethnicity filter
                        if (!activeFilters.nameEthnicity.includes(profile.ethnicity)) {
                            return false;
                        }
                    }

                    // Check status
                    if (activeFilters.status.length > 0 && !activeFilters.status.includes(profile.status)) {
                        return false;
                    }

                    // Check body type
                    if (activeFilters.bodyType.length > 0 && !activeFilters.bodyType.includes(profile.bodyType)) {
                        return false;
                    }

                    // Check height
                    if (profile.height < activeFilters.minHeight) {
                        return false;
                    }

                    // Check attractiveness
                    if (profile.attractiveness < activeFilters.minAttractiveness) {
                        return false;
                    }

                    // Check income
                    if (activeFilters.minIncome > 0) {
                        const incomeParts = profile.income.split('-');
                        const minIncome = parseInt(incomeParts[0]);
                        if (minIncome < activeFilters.minIncome) {
                            return false;
                        }
                    }

                    // Check profile completeness
                    if (profile.profileCompleteness < activeFilters.minCompleteness) {
                        return false;
                    }

                    // Check job
                    if (activeFilters.job && profile.job !== activeFilters.job) {
                        return false;
                    }

                    // Check birthplace
                    if (activeFilters.birthplace && profile.birthplace !== activeFilters.birthplace) {
                        return false;
                    }

                    // Check neighborhood
                    if (activeFilters.neighborhood && profile.neighborhood !== activeFilters.neighborhood) {
                        return false;
                    }

                    // Check verified only
                    if (activeFilters.verifiedOnly && !profile.verified) {
                        return false;
                    }

                    // Check hide travel mode
                    if (activeFilters.hideTravelMode && profile.travelMode) {
                        return false;
                    }

                    // Check hide fake profiles
                    if (activeFilters.hideFakeProfiles && profile.fakeProbability > 0.5) {
                        return false;
                    }

                    return true;
                });
            }

            function updateFilterUI() {
                // Count active filters
                let count = 0;
                if (activeFilters.ethnicity.length > 0) count++;
                if (activeFilters.religion.length > 0) count++;
                if (activeFilters.nameEthnicity.length > 0) count++;
                if (activeFilters.status.length > 0) count++;
                if (activeFilters.bodyType.length > 0) count++;
                if (activeFilters.minHeight > 145) count++;
                if (activeFilters.minAttractiveness > 5) count++;
                if (activeFilters.minIncome > 5) count++;
                if (activeFilters.minCompleteness > 0) count++;
                if (activeFilters.job) count++;
                if (activeFilters.birthplace) count++;
                if (activeFilters.neighborhood) count++;
                if (activeFilters.verifiedOnly) count++;
                if (activeFilters.hideTravelMode) count++;
                if (activeFilters.hideFakeProfiles) count++;

                // Update filter count badge
                if (count > 0) {
                    filterCount.textContent = count;
                    filterCount.style.display = 'inline-flex';
                } else {
                    filterCount.style.display = 'none';
                }

                // Update active filters bar
                if (count > 0) {
                    renderActiveFiltersBar();
                    activeFiltersBar.style.display = 'flex';
                } else {
                    activeFiltersBar.style.display = 'none';
                }
            }

            function renderActiveFiltersBar() {
                activeFiltersBar.innerHTML = '';

                // Add ethnicity filters
                activeFilters.ethnicity.forEach(ethnicity => {
                    const filterTag = createFilterTag(`Suku: ${capitalizeFirstLetter(ethnicity)}`, 'ethnicity', ethnicity);
                    activeFiltersBar.appendChild(filterTag);
                });

                // Add religion filters
                activeFilters.religion.forEach(religion => {
                    const filterTag = createFilterTag(`Agama: ${capitalizeFirstLetter(religion)}`, 'religion', religion);
                    activeFiltersBar.appendChild(filterTag);
                });

                // Add name ethnicity filters
                activeFilters.nameEthnicity.forEach(nameEthnicity => {
                    const filterTag = createFilterTag(`Nama: ${capitalizeFirstLetter(nameEthnicity)}`, 'nameEthnicity', nameEthnicity);
                    activeFiltersBar.appendChild(filterTag);
                });

                // Add status filters
                activeFilters.status.forEach(status => {
                    const statusText = status === "citizen" ? "WNI" : (status === "expat" ? "Ekspat" : "Turis");
                    const filterTag = createFilterTag(`Status: ${statusText}`, 'status', status);
                    activeFiltersBar.appendChild(filterTag);
                });

                // Add body type filters
                activeFilters.bodyType.forEach(bodyType => {
                    const bodyTypeText = {
                        "slim": "Ramping",
                        "athletic": "Atletis",
                        "average": "Normal",
                        "curvy": "Berisi",
                        "plus": "Plus Size"
                    }[bodyType] || bodyType;
                    const filterTag = createFilterTag(`Postur: ${bodyTypeText}`, 'bodyType', bodyType);
                    activeFiltersBar.appendChild(filterTag);
                });

                // Add height filter
                if (activeFilters.minHeight > 145) {
                    const filterTag = createFilterTag(`Min. Tinggi: ${activeFilters.minHeight} cm`, 'minHeight');
                    activeFiltersBar.appendChild(filterTag);
                }

                // Add attractiveness filter
                if (activeFilters.minAttractiveness > 5) {
                    const filterTag = createFilterTag(`Min. Daya Tarik: ${activeFilters.minAttractiveness}`, 'minAttractiveness');
                    activeFiltersBar.appendChild(filterTag);
                }

                // Add income filter
                if (activeFilters.minIncome > 5) {
                    const filterTag = createFilterTag(`Min. Pendapatan: ${activeFilters.minIncome}jt`, 'minIncome');
                    activeFiltersBar.appendChild(filterTag);
                }

                // Add completeness filter
                if (activeFilters.minCompleteness > 0) {
                    const filterTag = createFilterTag(`Min. Kelengkapan: ${activeFilters.minCompleteness}%`, 'minCompleteness');
                    activeFiltersBar.appendChild(filterTag);
                }

                // Add job filter
                if (activeFilters.job) {
                    const jobText = {
                        "tech": "Teknologi",
                        "medical": "Kesehatan",
                        "education": "Pendidikan",
                        "finance": "Keuangan",
                        "art": "Seni & Desain",
                        "service": "Layanan",
                        "business": "Bisnis",
                        "government": "Pemerintahan",
                        "student": "Pelajar"
                    }[activeFilters.job] || activeFilters.job;
                    const filterTag = createFilterTag(`Pekerjaan: ${jobText}`, 'job');
                    activeFiltersBar.appendChild(filterTag);
                }

                // Add birthplace filter
                if (activeFilters.birthplace) {
                    const filterTag = createFilterTag(`Tempat Lahir: ${capitalizeFirstLetter(activeFilters.birthplace)}`, 'birthplace');
                    activeFiltersBar.appendChild(filterTag);
                }

                // Add neighborhood filter
                if (activeFilters.neighborhood) {
                    const filterTag = createFilterTag(`Kecamatan: ${capitalizeFirstLetter(activeFilters.neighborhood)}`, 'neighborhood');
                    activeFiltersBar.appendChild(filterTag);
                }

                // Add toggle filters
                if (activeFilters.verifiedOnly) {
                    const filterTag = createFilterTag('Hanya Terverifikasi', 'verifiedOnly');
                    activeFiltersBar.appendChild(filterTag);
                }

                if (activeFilters.hideTravelMode) {
                    const filterTag = createFilterTag('Tanpa Travel Mode', 'hideTravelMode');
                    activeFiltersBar.appendChild(filterTag);
                }

                if (activeFilters.hideFakeProfiles) {
                    const filterTag = createFilterTag('Tanpa Profil Palsu', 'hideFakeProfiles');
                    activeFiltersBar.appendChild(filterTag);
                }
            }

            function createFilterTag(text, filterType, filterValue) {
                const tag = document.createElement('div');
                tag.className = 'active-filter';
                tag.innerHTML = `
${text}
<i class="fas fa-times ml-2"></i>
`;

                tag.querySelector('i').addEventListener('click', () => {
                    removeFilter(filterType, filterValue);
                });

                return tag;
            }

            function removeFilter(filterType, filterValue) {
                if (filterType === 'ethnicity' && filterValue) {
                    activeFilters.ethnicity = activeFilters.ethnicity.filter(e => e !== filterValue);
                    // Update UI in filter overlay
                    document.querySelector(`#ethnicity-filters .filter-chip[data-value="${filterValue}"]`).classList.remove('active');
                } else if (filterType === 'religion' && filterValue) {
                    activeFilters.religion = activeFilters.religion.filter(r => r !== filterValue);
                    // Update UI in filter overlay
                    document.querySelector(`#religion-filters .filter-chip[data-value="${filterValue}"]`).classList.remove('active');
                } else if (filterType === 'nameEthnicity' && filterValue) {
                    activeFilters.nameEthnicity = activeFilters.nameEthnicity.filter(n => n !== filterValue);
                    // Update UI in filter overlay
                    document.querySelector(`#name-ethnicity-filters .filter-chip[data-value="${filterValue}"]`).classList.remove('active');
                } else if (filterType === 'status' && filterValue) {
                    activeFilters.status = activeFilters.status.filter(s => s !== filterValue);
                    // Update UI in filter overlay
                    document.querySelector(`#residence-status-filters .filter-chip[data-value="${filterValue}"]`).classList.remove('active');
                } else if (filterType === 'bodyType' && filterValue) {
                    activeFilters.bodyType = activeFilters.bodyType.filter(b => b !== filterValue);
                    // Update UI in filter overlay
                    document.querySelector(`#body-type-filters .filter-chip[data-value="${filterValue}"]`).classList.remove('active');
                } else if (filterType === 'minHeight') {
                    activeFilters.minHeight = 145;
                    heightSlider.value = 145;
                    heightValue.textContent = '145';
                } else if (filterType === 'minAttractiveness') {
                    activeFilters.minAttractiveness = 5;
                    attractivenessSlider.value = 5;
                    attractivenessValue.textContent = '5';
                } else if (filterType === 'minIncome') {
                    activeFilters.minIncome = 5;
                    incomeSlider.value = 5;
                    incomeValue.textContent = '5';
                } else if (filterType === 'minCompleteness') {
                    activeFilters.minCompleteness = 0;
                    completenessSlider.value = 0;
                    completenessValue.textContent = '0';
                } else if (filterType === 'job') {
                    activeFilters.job = '';
                    jobSelect.value = '';
                } else if (filterType === 'birthplace') {
                    activeFilters.birthplace = '';
                    birthplaceSelect.value = '';
                } else if (filterType === 'neighborhood') {
                    activeFilters.neighborhood = '';
                    neighborhoodSelect.value = '';
                } else if (filterType === 'verifiedOnly') {
                    activeFilters.verifiedOnly = false;
                    verifiedToggle.checked = false;
                } else if (filterType === 'hideTravelMode') {
                    activeFilters.hideTravelMode = false;
                    travelModeToggle.checked = false;
                } else if (filterType === 'hideFakeProfiles') {
                    activeFilters.hideFakeProfiles = false;
                    fakeFilterToggle.checked = false;
                }

                // Apply filters
                filterProfiles();
                updateFilterUI();

                // Reset profile index and load first matching profile
                currentProfileIndex = 0;
                loadProfile();
            }

            function resetFilters() {
                // Reset filter values
                activeFilters = {
                    ethnicity: [],
                    religion: [],
                    nameEthnicity: [],
                    status: [],
                    bodyType: [],
                    job: "",
                    minHeight: 145,
                    minAttractiveness: 5,
                    minIncome: 5,
                    minCompleteness: 0,
                    birthplace: "",
                    neighborhood: "",
                    verifiedOnly: false,
                    hideTravelMode: false,
                    hideFakeProfiles: false
                };

                // Reset UI in filter overlay
                document.querySelectorAll('#ethnicity-filters .filter-chip, #religion-filters .filter-chip, ' +
                    '#name-ethnicity-filters .filter-chip, #residence-status-filters .filter-chip, ' +
                    '#body-type-filters .filter-chip').forEach(chip => {
                        chip.classList.remove('active');
                    });

                heightSlider.value = 145;
                heightValue.textContent = '145';
                attractivenessSlider.value = 5;
                attractivenessValue.textContent = '5';
                incomeSlider.value = 5;
                incomeValue.textContent = '5';
                completenessSlider.value = 0;
                completenessValue.textContent = '0';
                neighborhoodSelect.value = '';
                birthplaceSelect.value = '';
                jobSelect.value = '';
                travelModeToggle.checked = false;
                verifiedToggle.checked = false;
                fakeFilterToggle.checked = false;

                // Reset filtered profiles
                filteredProfiles = [...profiles];

                // Update UI
                filterCount.style.display = 'none';
                activeFiltersBar.style.display = 'none';

                // Reset profile index and load first matching profile
                currentProfileIndex = 0;
                loadProfile();
            }

            // Rating functionality
            function showRatingOverlay() {
                if (!activeConversationId) return;

                const conversation = conversations.find(c => c.id === activeConversationId);
                if (!conversation) return;

                // Set rating profile details
                ratingProfilePic.src = conversation.image;
                ratingProfileName.textContent = conversation.name;

                // Reset stars
                resetStarHighlights();

                // Reset tags
                ratingTags.forEach(tag => {
                    tag.classList.remove('active');
                });

                // Show overlay
                ratingOverlay.style.display = 'flex';
            }

            function hideRatingOverlay() {
                ratingOverlay.style.display = 'none';
            }

            function setRating(rating) {
                ratingStars.forEach(star => {
                    const starRating = parseInt(star.getAttribute('data-rating'));
                    if (starRating <= rating) {
                        star.classList.add('active');
                    } else {
                        star.classList.remove('active');
                    }
                });
            }

            function highlightStars(rating) {
                ratingStars.forEach(star => {
                    const starRating = parseInt(star.getAttribute('data-rating'));
                    if (starRating <= rating) {
                        star.style.color = 'gold';
                    } else {
                        star.style.color = '#ccc';
                    }
                });
            }

            function resetStarHighlights() {
                ratingStars.forEach(star => {
                    star.style.color = '#ccc';
                    star.classList.remove('active');
                });
            }

            // Suggestion overlay
            function showSuggestionOverlay() {
                suggestionOverlay.style.display = 'flex';
            }

            function hideSuggestionOverlay() {
                suggestionOverlay.style.display = 'none';
            }

            // Warning overlay
            function showWarningOverlay() {
                warningOverlay.style.display = 'flex';
            }

            function hideWarningOverlay() {
                warningOverlay.style.display = 'none';
            }

            function capitalizeFirstLetter(string) {
                if (!string) return '';
                return string.charAt(0).toUpperCase() + string.slice(1);
            }

            // Initialize the app
            init();
        });
    </script>
</body>

</html>


<!-- Dating app
Build me a dating app

Can make the app more Indonesian, suitable for Indonesian culture, have Indonesian profile, etc.

Can you make the filters work? Make it able to filter race with Indonesian race(java, Sunday,etc.) and normal filter like religion height, etc. also can filter by neighborhood where people live

Give a score of our own attractiveness level and also filter of opposite gender's attractiveness level.also make it in such a way this works for people that dislike typing. Like maybe AI will give our information to other party little by little depends on attractiveness level

Filter:
Filter Ras mendalam(batak,Sunda)
Filter profile penuh nya berapa
Filter income
Filter Ras Dari nama
Filter fake profile. Overly cute pro
Filter fat or not
Filter area tempat tinggal

Place of birth
Statyus ep,pr, citizen/ tourist
Filter out people using travel mode
Filter verified only
Filter only specific jobs

Auto ban people that ask for number directly
Suggest meetup and where to meet after sometime of chatting
Auto chat/ reveal information slowly
Daily swipe but AI assisted

Boleh input body count, humlah mantan
Suggestion to improve your profile.
Suggestion to improve yourself.
Find someone to rate your dating profile .
Dating rating and post meeting feedback.
Swipe per day is budget and price based, not 30 swipe per day

Opening, everyone can chat on all prof details
Helper for things to talk about
the swipe packages should be point based. superswipe price should be different per person based on attractiveness level

Event:
Blind date, 1 hour matched with random blind date
Group date -->